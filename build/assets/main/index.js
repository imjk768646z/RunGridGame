System.register("chunks:///_virtual/AssetsProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Proxy.ts"],(function(t){var s,e,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){n=t.Proxy}],execute:function(){e._RF.push({},"982472PiGFAeKhkd9bqy0fH","AssetsProxy",void 0),t("AssetsProxy",function(t){function e(s){return t.call(this,e.NAME,s)||this}return s(e,t),e.prototype.onRegister=function(){},e}(n)).NAME="AssetsProxy",e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetsSavedCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./AssetsProxy.ts","./SimpleCommand.ts"],(function(e){var s,t,n,o;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy},null,function(e){n=e.AssetsProxy},function(e){o=e.SimpleCommand}],execute:function(){t._RF.push({},"670fdTfrLxMG4D2IwUJM00m","AssetsSavedCommand",void 0);e("AssetsSavedCommand",function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.execute=function(e){console.log("AssetsSavedCommand => ",e);var s=e.body;this.facade.registerProxy(new n(s)),this.facade.sendNotification("SET_ASSETS",s)},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEngineControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,s,o,u,c,n;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,s=e._decorator,o=e.AudioSource,u=e.assetManager,c=e.Node,n=e.director}],execute:function(){var r,l;t._RF.push({},"3cfafS2i/hDvJZ1uYD3I04V","AudioEngineControl",void 0);var h=s.ccclass;s.property,e("AudioEngineControl",h(((l=function(){function e(){this.audioClips=new Map,this.playingList=new Map,this.audioPlayingList=new Map,this.musicPlayingList=new Map,this.defMusicVolume=.5,this.defEffectsVolume=.5,this.timerList=new Map,this.isBack=!1,this.musicSource=void 0,this.effectSource=void 0,this.loopSource=void 0;var e=new c;e.name="audioMusic",n.getScene().addChild(e),n.addPersistRootNode(e),this.musicSource=e.addComponent(o);var i=new c;i.name="audioEffect",n.getScene().addChild(i),n.addPersistRootNode(i),this.effectSource=i.addComponent(o);var t=new c;t.name="audioLoop",n.getScene().addChild(t),n.addPersistRootNode(t),this.loopSource=t.addComponent(o)}e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance};var t=e.prototype;return t.setAudioTask=function(e,i){this.audioClips.set(e,i)},t.setMusicVolume=function(e){this.musicSource.volume=e},t.setEffectVolume=function(e){this.effectSource.volume=e,this.loopSource.volume=e},t.playMusic=function(e,i,t){if(void 0===i&&(i=!0),void 0===t&&(t=0),this.isBack)return null;if(this.audioClips.has(e)){var s;switch(arguments.length<=3?0:arguments.length-3){case 0:this.setMusicVolume(this.defMusicVolume),this.musicSource.stop(),this.musicSource.clip=this.audioClips.get(e),this.musicSource.loop=i,this.musicSource.currentTime=t,this.musicSource.play();break;case 1:"number"==typeof(arguments.length<=3?void 0:arguments[3])&&this.setMusicVolume(arguments.length<=3?void 0:arguments[3]),this.musicSource.stop(),this.musicSource.clip=this.audioClips.get(e),this.musicSource.loop=i,this.musicSource.currentTime=t,this.musicSource.play(),"function"==typeof(arguments.length<=3?void 0:arguments[3])&&this.musicSource.node.off(o.EventType.ENDED,arguments.length<=3?void 0:arguments[3]);break;case 2:this.setMusicVolume(arguments.length<=3?void 0:arguments[3]),this.musicSource.stop(),this.musicSource.clip=this.audioClips.get(e),this.musicSource.loop=i,this.musicSource.currentTime=t,this.musicSource.play(),this.musicSource.node.off(o.EventType.ENDED,arguments.length<=4?void 0:arguments[4])}return this.playingList.set(e,s),this.musicPlayingList.set(e,s),s}return null},t.playAudio=function(e){if(this.isBack)return null;if(this.audioClips.has(e)){var i;switch(arguments.length<=1?0:arguments.length-1){case 0:this.effectSource.clip=this.audioClips.get(e),this.effectSource.volume=this.defEffectsVolume,this.effectSource.play();break;case 1:"number"==typeof(arguments.length<=1?void 0:arguments[1])?(this.effectSource.clip=this.audioClips.get(e),this.effectSource.volume=arguments.length<=1?void 0:arguments[1],this.effectSource.play()):(this.effectSource.clip=this.audioClips.get(e),this.effectSource.volume=this.defEffectsVolume,this.effectSource.play(),"function"==typeof(arguments.length<=1?void 0:arguments[1])&&this.effectSource.node.off(o.EventType.ENDED,arguments.length<=1?void 0:arguments[1]));break;case 2:this.effectSource.clip=this.audioClips.get(e),this.effectSource.volume=arguments.length<=1?void 0:arguments[1],this.effectSource.play(),this.effectSource.node.off(o.EventType.ENDED,arguments.length<=2?void 0:arguments[2])}return this.playingList.set(e,i),this.audioPlayingList.set(e,i),i}return null},t.playLoopAudio=function(e,i){this.audioClips.has(e)&&(this.loopSource.volume=i||this.defMusicVolume,this.loopSource.stop(),this.loopSource.clip=this.audioClips.get(e),this.loopSource.loop=!0,this.loopSource.play())},t.stopAudio=function(){this.isBack||(this.effectSource.stop(),this.effectSource.clip=null,this.loopSource.stop())},t.stopMusic=function(){this.isBack||this.musicSource.stop()},t.stopAll=function(){this.effectSource.stop(),this.musicSource.stop(),this.loopSource.stop()},t.pauseAll=function(){this.effectSource.pause(),this.musicSource.pause()},t.pauseAllAudio=function(){this.effectSource.pause()},t.pauseAllMusic=function(){this.musicSource.pause()},t.resumeAll=function(){this.effectSource.play(),this.musicSource.play()},t.resumeAllAudio=function(){this.effectSource.play()},t.resumeAllMusic=function(){this.musicSource.play()},t.getMusicCurrentTime=function(e,i){if(this.audioClips.has(e))return this.musicSource.currentTime.toFixed(1)},t.getMusicDurationTime=function(e,i){if(this.audioClips.has(e))return this.musicSource.duration.toFixed(1)},t.getMusicState=function(){return this.musicSource.state},t.setMusicCurrentTime=function(e,i){this.musicSource.currentTime=i},t.releaseAll=function(){this.audioClips.forEach((function(e,i,t){u.releaseAsset(e)}))},i(e,[{key:"setBackground",set:function(e){this.isBack=e}},{key:"isMusicPlaying",get:function(){return this.musicSource.playing}}]),e}()).instance=void 0,r=l))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SignalManager.ts","./Definition.ts","./AudioEngineControl.ts"],(function(n){var o,t,e,i,u,r,a,l,c,s,g,h,d,p,f,b;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,u=n.createClass},function(n){r=n.cclegacy,a=n._decorator,l=n.Node,c=n.Label,s=n.dragonBones,g=n.Component},function(n){h=n.AddSignal,d=n.SignalManager},function(n){p=n.SignalType,f=n.SoundList},function(n){b=n.AudioEngineControl}],execute:function(){var B,C,k,S,y,m,F,w,T,v,R,G,x,L,A,M,_;r._RF.push({},"252dahS/opJvbC5v9qV0keZ","BackgroundComponent",void 0);var z=a.ccclass,E=a.property;n("BackgroundComponent",(B=z("BackgroundComponent"),C=E(l),k=E(l),S=E(l),y=E(l),m=E(l),F=E(c),w=E(s.ArmatureDisplay),B((R=o((v=function(n){function o(){for(var o,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return o=n.call.apply(n,[this].concat(u))||this,e(o,"ngBackground",R,i(o)),e(o,"fgBackground",G,i(o)),e(o,"feature",x,i(o)),e(o,"triggerText",L,i(o)),e(o,"roundText",A,i(o)),e(o,"fgRound",M,i(o)),e(o,"lubu",_,i(o)),o._multiplePos=[],o._removeSymbolRule=null,o}t(o,n);var r=o.prototype;return r.onLoad=function(){h(p.ShowLuBuFire,this.onShowLuBuFire.bind(this)),h(p.ShowNGBackground,this.onShowNGBackground.bind(this)),h(p.ShowFGBackground,this.onShowFGBackground.bind(this)),h(p.CloseNGBackground,this.onCloseNGBackground.bind(this)),h(p.CloseFGBackground,this.onCloseFGBackground.bind(this)),h(p.ShowFeature,this.onShowFeature.bind(this)),h(p.CloseFeature,this.onCloseFeature.bind(this)),h(p.ShowTriggerText,this.onShowTriggerText.bind(this)),h(p.CloseTriggerText,this.onCloseTriggerText.bind(this)),h(p.ShowFGRound,this.onShowFGRound.bind(this)),h(p.CloseFGRound,this.onCloseFGRound.bind(this)),h(p.ShowRoundText,this.onShowRoundText.bind(this)),h(p.CloseRoundText,this.onCloseRoundText.bind(this))},r.start=function(){},r.updateFGRound=function(n){this.fgRound.string=n.toString()},r.playLubuFire=function(){b.getInstance().playAudio(f.LuBuFire,1),this.lubu.once(s.EventObject.COMPLETE,this.onLubuFireComplete,this),this.lubu.playAnimation("play",1)},r.onLubuFireComplete=function(){this.lubu.playAnimation("play_loop")},r.onShowLuBuFire=function(n){this._multiplePos.some((function(n){return n.length>0}))?(b.getInstance().playAudio(f.LuBuFire,1),this.lubu.once(s.EventObject.COMPLETE,this.onShowLubuFireComplete,this),this.lubu.playAnimation("play",1)):n.CallBack()},r.onShowLubuFireComplete=function(){this.lubu.playAnimation("play_loop"),d.CallBack(p[p.ShowLuBuFire])},r.onShowNGBackground=function(n){b.getInstance().stopMusic(),b.getInstance().playMusic(f.NGBGM,!0,0,1,null),this.ngBackground.active=!0,n.CallBack()},r.onShowFGBackground=function(n){b.getInstance().stopMusic(),b.getInstance().playMusic(f.FGBGM,!0,0,1,null),this.fgBackground.active=!0,n.CallBack()},r.onCloseNGBackground=function(n){this.ngBackground.active=!1,n.CallBack()},r.onCloseFGBackground=function(n){this.fgBackground.active=!1,n.CallBack()},r.onShowFeature=function(n){this.feature.active=!0,n.CallBack()},r.onCloseFeature=function(n){this.feature.active=!1,n.CallBack()},r.onShowTriggerText=function(n){this.triggerText.active=!0,n.CallBack()},r.onCloseTriggerText=function(n){this.triggerText.active=!1,n.CallBack()},r.onShowFGRound=function(n){this.fgRound.node.active=!0,n.CallBack()},r.onCloseFGRound=function(n){this.fgRound.node.active=!1,n.CallBack()},r.onShowRoundText=function(n){this.roundText.active=!0,n.CallBack()},r.onCloseRoundText=function(n){this.roundText.active=!1,n.CallBack()},r.update=function(n){},u(o,[{key:"SetRemoveSymbolRule",set:function(n){this._removeSymbolRule=n,this._multiplePos=n.multipleInfo.pos}}]),o}(g)).prototype,"ngBackground",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=o(v.prototype,"fgBackground",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=o(v.prototype,"feature",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(v.prototype,"triggerText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(v.prototype,"roundText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(v.prototype,"fgRound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=o(v.prototype,"lubu",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=v))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(n){var o,t,e;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},null,function(n){e=n.Mediator}],execute:function(){t._RF.push({},"3ef6dHTaexAS4LuR9Oz2JGr","BackgroundMediator",void 0),n("BackgroundMediator",function(n){function t(o){var e;return(e=n.call(this,t.NAME,o)||this).backgroundComponent=null,e.backgroundComponent=o,e}o(t,n);var e=t.prototype;return e.onRegister=function(){},e.listNotificationInterests=function(){return["LUBU_FIRE","SET_REMOVE_INFO","UPDATE_FG_ROUND"]},e.handleNotification=function(n){switch(n.name){case"LUBU_FIRE":this.backgroundComponent.playLubuFire();break;case"SET_REMOVE_INFO":this.backgroundComponent.SetRemoveSymbolRule=n.body;break;case"UPDATE_FG_ROUND":this.backgroundComponent.updateFGRound(n.body)}},t}(e)).NAME="BackgroundMediator",t._RF.pop()}}}));

System.register("chunks:///_virtual/BetProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Proxy.ts"],(function(t){var e,r,n,u;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){n=t.cclegacy},null,function(t){u=t.Proxy}],execute:function(){n._RF.push({},"925c3VG/odLC6CdG8rcw475","BetProxy",void 0),t("BetProxy",function(t){function n(){var e;return(e=t.call(this,n.NAME)||this)._betLevel=[.2,.4,.6,.8,1,1.6,2,3,6,8,10,20,40,60,100,200,400,600,800,1e3,1200,1500,2e3],e._defaultBet=.2,e._currentBet=0,e._betMultiple=0,e._currentBet=e._defaultBet,e.updateBetMultiple(),e}e(n,t);var u=n.prototype;return u.onRegister=function(){},u.updateBetMultiple=function(){this._betMultiple=this._betLevel.indexOf(this._currentBet)+1},u.raiseBet=function(){var t=this._betLevel.indexOf(this._currentBet);return t+1<this._betLevel.length&&t++,this._currentBet=this._betLevel[t],this.updateBetMultiple(),this._currentBet},u.reduceBet=function(){var t=this._betLevel.indexOf(this._currentBet);return t-1>=0&&t--,this._currentBet=this._betLevel[t],this.updateBetMultiple(),this._currentBet},r(n,[{key:"GetCurrentBet",get:function(){return this._currentBet}},{key:"GetCurrentBetMultiple",get:function(){return this._betMultiple}}]),n}(u)).NAME="BetProxy",n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameState.ts"],(function(t){var n,e,s,i,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,i=t.Component,a=t.Button},function(t){o=t.GameState}],execute:function(){var b;e._RF.push({},"271b8FkAdBMfYM6LAAcMOMw","ButtonComponent",void 0);var _=s.ccclass,r=(s.property,t("ButtonList",function(t){return t[t.btn_spin=0]="btn_spin",t[t.btn_stop=1]="btn_stop",t[t.btn_auto_stop=2]="btn_auto_stop",t[t.btn_auto_on=3]="btn_auto_on",t[t.btn_auto_off=4]="btn_auto_off",t[t.btn_raise=5]="btn_raise",t[t.btn_reduce=6]="btn_reduce",t[t.btn_info=7]="btn_info",t}({})));t("ButtonComponent",_("ButtonComponent")(b=function(t){function e(){for(var n,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))||this).buttonMap=new Map,n.component="ButtonComponent",n.func="onButtonClick",n.handler=null,n.isAutoMode=!1,n}n(e,t);var s=e.prototype;return s.init=function(t){for(var n in this.handler=t,r)if(isNaN(Number(n))){var e=this.node.getChildByName(n).getChildByName("Button");if(null!=e){var s=new i.EventHandler;s.target=this.node,s.component=this.component,s.handler=this.func,s.customEventData=r[n];var o=e.getComponent(a);null==o&&(o=e.addComponent(a)),o.clickEvents.push(s),this.buttonMap[n]=o}}},s.start=function(){},s.updateAutoMode=function(t){this.isAutoMode=t},s.onButtonClick=function(t,n){switch(n){case r.btn_spin:this.handler.onSpin();break;case r.btn_stop:this.handler.onStop();break;case r.btn_auto_on:this.handler.onAutoOn();break;case r.btn_auto_stop:case r.btn_auto_off:this.setBtnInteractable(r.btn_auto_stop,!1),this.setBtnInteractable(r.btn_auto_off,!1),this.handler.onAutoOff();break;case r.btn_raise:this.handler.onRaise();break;case r.btn_reduce:this.handler.onReduce();break;case r.btn_info:this.handler.onInfo()}},s.setBtnInteractable=function(t,n){var e=this.buttonMap[r[t]];null!=e&&(e.interactable=n)},s.setBtnVisible=function(t,n){var e=this.buttonMap[r[t]];if(null!=e){var s=e.node;s.parent.active=n,s.active=n}},s.updateButtonState=function(t){switch(t){case o.Wait:this.setBtnInteractable(r.btn_auto_stop,!0),this.setBtnInteractable(r.btn_auto_on,!0),this.setBtnInteractable(r.btn_info,!0),this.isAutoMode?(this.setBtnVisible(r.btn_spin,!1),this.setBtnVisible(r.btn_stop,!1),this.setBtnVisible(r.btn_auto_on,!1),this.setBtnVisible(r.btn_auto_off,!0),this.setBtnVisible(r.btn_auto_stop,!0),this.setBtnInteractable(r.btn_raise,!1),this.setBtnInteractable(r.btn_reduce,!1)):(this.setBtnVisible(r.btn_spin,!0),this.setBtnVisible(r.btn_stop,!1),this.setBtnVisible(r.btn_auto_on,!0),this.setBtnVisible(r.btn_auto_off,!1),this.setBtnVisible(r.btn_auto_stop,!1),this.setBtnInteractable(r.btn_raise,!0),this.setBtnInteractable(r.btn_reduce,!0));break;case o.NGSpin:this.setBtnInteractable(r.btn_info,!1),this.isAutoMode?(this.setBtnVisible(r.btn_spin,!1),this.setBtnVisible(r.btn_stop,!1),this.setBtnVisible(r.btn_auto_on,!1),this.setBtnVisible(r.btn_auto_off,!0),this.setBtnVisible(r.btn_auto_stop,!0),this.setBtnInteractable(r.btn_raise,!1),this.setBtnInteractable(r.btn_reduce,!1),this.setBtnInteractable(r.btn_auto_stop,!1)):(this.setBtnVisible(r.btn_spin,!1),this.setBtnVisible(r.btn_stop,!0),this.setBtnInteractable(r.btn_stop,!1),this.setBtnInteractable(r.btn_raise,!1),this.setBtnInteractable(r.btn_reduce,!1),this.setBtnInteractable(r.btn_auto_on,!1));break;case o.FGSpin:this.setBtnInteractable(r.btn_info,!1),this.isAutoMode?(this.setBtnVisible(r.btn_spin,!1),this.setBtnVisible(r.btn_stop,!1),this.setBtnVisible(r.btn_auto_on,!1),this.setBtnVisible(r.btn_auto_off,!0),this.setBtnVisible(r.btn_auto_stop,!0),this.setBtnInteractable(r.btn_raise,!1),this.setBtnInteractable(r.btn_reduce,!1),this.setBtnInteractable(r.btn_auto_stop,!1)):(this.setBtnVisible(r.btn_spin,!1),this.setBtnVisible(r.btn_stop,!0),this.setBtnVisible(r.btn_auto_on,!0),this.setBtnVisible(r.btn_auto_off,!1),this.setBtnInteractable(r.btn_stop,!1),this.setBtnInteractable(r.btn_raise,!1),this.setBtnInteractable(r.btn_reduce,!1),this.setBtnInteractable(r.btn_auto_on,!1),this.setBtnInteractable(r.btn_auto_stop,!1));break;case o.FeaturePlay:case o.FGFeaturePlay:this.setBtnInteractable(r.btn_info,!1),this.isAutoMode?(this.setBtnVisible(r.btn_spin,!1),this.setBtnVisible(r.btn_stop,!1),this.setBtnVisible(r.btn_auto_on,!1),this.setBtnVisible(r.btn_auto_off,!0),this.setBtnVisible(r.btn_auto_stop,!0),this.setBtnInteractable(r.btn_raise,!1),this.setBtnInteractable(r.btn_reduce,!1),this.setBtnInteractable(r.btn_auto_stop,!0),this.setBtnInteractable(r.btn_auto_off,!0)):this.setBtnInteractable(r.btn_stop,!0)}},s.update=function(t){},e}(i))||b);e._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(t){var n,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},null,function(t){e=t.Mediator}],execute:function(){o._RF.push({},"8725emYsMJJJq+V0bbFjPNB","ButtonMediator",void 0),t("ButtonMediator",function(t){function o(n){var e;return(e=t.call(this,o.NAME,n)||this).buttonComponent=null,e.buttonComponent=n,e}n(o,t);var e=o.prototype;return e.onRegister=function(){},e.listNotificationInterests=function(){return["UPDATE_BUTTON_STATE","UPDATE_AUTO_MODE"]},e.handleNotification=function(t){switch(t.name){case"UPDATE_BUTTON_STATE":this.buttonComponent.updateButtonState(t.body);break;case"UPDATE_AUTO_MODE":this.buttonComponent.updateAutoMode(t.body)}},o}(e)).NAME="ButtonMediator",o._RF.pop()}}}));

System.register("chunks:///_virtual/Controller.ts",["cc","./View.ts","./Observer.ts"],(function(n){var t,e,i;return{setters:[function(n){t=n.cclegacy},function(n){e=n.View},function(n){i=n.Observer}],execute:function(){t._RF.push({},"5468d/wxsZKJrk7jfwgvn0G","Controller",void 0);var r=n("Controller",function(){function n(){if(this.view=void 0,this.commandMap=void 0,null!=n.instance)throw Error(n.SINGLETON_MSG);n.instance=this,this.commandMap={},this.initializeController()}var t=n.prototype;return t.initializeController=function(){this.view=e.getInstance((function(){return new e}))},n.getInstance=function(t){return null==n.instance&&(n.instance=t()),n.instance},t.registerCommand=function(n,t){var e;null==this.commandMap[n]&&(null==(e=this.view)||e.registerObserver(n,new i(this.executeCommand,this)));this.commandMap[n]=t},t.executeCommand=function(n){var t=this.commandMap[n.name];null!=t&&t().execute(n)},t.hasCommand=function(n){return null!=this.commandMap[n]},t.removeCommand=function(n){var t;this.hasCommand(n)&&(null==(t=this.view)||t.removeObserver(n,this),delete this.commandMap[n])},n}());r.SINGLETON_MSG="Controller Singleton already constructed!",r.instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Definition.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"f6a509gVSBBfIhpdGPYw4Dr","Definition",void 0);e("SlotGameEvent",function(e){return e[e.Spin=0]="Spin",e[e.Stop=1]="Stop",e[e.AutoSpin=2]="AutoSpin",e[e.Damping=3]="Damping",e[e.SpinDone=4]="SpinDone",e[e.ShowLine=5]="ShowLine",e[e.ShowMaxLine=6]="ShowMaxLine",e[e.HideLine=7]="HideLine",e[e.ShowWinFrame=8]="ShowWinFrame",e[e.HideWinFrame=9]="HideWinFrame",e[e.ShowJP=10]="ShowJP",e[e.JPDone=11]="JPDone",e[e.UpdateCredit=12]="UpdateCredit",e[e.QuickBet=13]="QuickBet",e[e.UpdateBetInfo=14]="UpdateBetInfo",e[e.UpdateJackpot=15]="UpdateJackpot",e[e.UpdateTotalWin=16]="UpdateTotalWin",e[e.UpdateFreeSpin=17]="UpdateFreeSpin",e[e.BreakpointFG=18]="BreakpointFG",e[e.GetWin=19]="GetWin",e[e.CloseEffectAni=20]="CloseEffectAni",e}({})),e("SoundList",{NGBGM:"Music_Base_Spin",FGBGM:"Music_Base_Combos",JPTriggerBG:"JP_BGM",JPCountEnd:"JP_Count_End",BigWinBG:"",BigWin:"UI_Big_Win",MegaWin:"UI_Mega_Win",SuperWin:"UI_Super_Win",MoneyCount:"UI_Count(Loop)",CountEnd:"UI_Double",FGTriggerBG:"Sound_Alarmbell",FGSettleBG:"UI_Final_Orchestra",FGSymbolTrigger:"SymbolF",SPINOUT:"Sound_Btn_Spin",SPININ:"Sound_SpinStop",STOP:"UI_Stop",REQULAR:"UI_Button",Reels:"reels",UI_ReTrigger:"UI_ReTrigger",UI_Normal_Link:"UI_Normal_Link",UI_Listen_Stop:"UI_Listen_Stop",UI_Stop:"UI_Stop",UI_Listen:"UI_Listen",UI_Count_Once:"UI_Count_Once",UI_Count_Small:"UI_Count_Small(Loop)",Hit:"Hit",JPHit:"JPHit",LuBuFire:"Sound_BG_Thor",FireBall:"Sound_ThorLighting",RunWinScore:"Sound_Base_Scoring",RunWinScoreEnd:"Sound_Base_ScoringEnd",ShowFrameStart:"Sound_BG_Delete1",ShowFrameEnd:"Sound_Symbol_Hit",MultipleSymbol:"Sound_Win_F1",NGSymbolEliminate:"Sound_BG_Symbol_Delete1",MultiplicationEnd:"Sound_F1_WinEnd",FreeGameSymbol:"Sound_Win_B1",FreeGameTransform:"Sound_Free_SpinStart"});var i=e("SignalType",function(e){return e[e.Test=0]="Test",e[e.Write=1]="Write",e[e.ShowSymbolFrame=2]="ShowSymbolFrame",e[e.ShowSymbolDynamic=3]="ShowSymbolDynamic",e[e.ShowFreeSymbolDynamic=4]="ShowFreeSymbolDynamic",e[e.ShowSingleSymbolDynamic=5]="ShowSingleSymbolDynamic",e[e.ShowMultipleOnReel=6]="ShowMultipleOnReel",e[e.RunScoreOnWinBoard=7]="RunScoreOnWinBoard",e[e.RunScoreOnRemoveBoard=8]="RunScoreOnRemoveBoard",e[e.RunWinScore=9]="RunWinScore",e[e.ResetWinScore=10]="ResetWinScore",e[e.ShowSymbolEliminate=11]="ShowSymbolEliminate",e[e.ShowEliminateScore=12]="ShowEliminateScore",e[e.CloseEliminateScore=13]="CloseEliminateScore",e[e.MultiplicationEliminateScore=14]="MultiplicationEliminateScore",e[e.RunEliminateScore=15]="RunEliminateScore",e[e.RunEliminateScoreFGState=16]="RunEliminateScoreFGState",e[e.EliminateScoreMoveLeft=17]="EliminateScoreMoveLeft",e[e.EliminateScoreMoveBack=18]="EliminateScoreMoveBack",e[e.ShowMathematicalSymbol=19]="ShowMathematicalSymbol",e[e.CloseMathematicalSymbol=20]="CloseMathematicalSymbol",e[e.ShowMultipleValue=21]="ShowMultipleValue",e[e.MultipleValueMoveLeftAndDisappear=22]="MultipleValueMoveLeftAndDisappear",e[e.RemoveSymbol=23]="RemoveSymbol",e[e.FillSymbol=24]="FillSymbol",e[e.ShowLuBuFire=25]="ShowLuBuFire",e[e.ShowFireBall=26]="ShowFireBall",e[e.UpdateMultipleText=27]="UpdateMultipleText",e[e.UpdateCredit=28]="UpdateCredit",e[e.CoverMultiple=29]="CoverMultiple",e[e.CloseSymbolMultiple=30]="CloseSymbolMultiple",e[e.ChangeMultipleScale=31]="ChangeMultipleScale",e[e.ShowMultipleFly=32]="ShowMultipleFly",e[e.ShowEnterFG=33]="ShowEnterFG",e[e.CloseEnterFG=34]="CloseEnterFG",e[e.ShowFeature=35]="ShowFeature",e[e.CloseFeature=36]="CloseFeature",e[e.ShowTriggerText=37]="ShowTriggerText",e[e.CloseTriggerText=38]="CloseTriggerText",e[e.ShowRoundText=39]="ShowRoundText",e[e.CloseRoundText=40]="CloseRoundText",e[e.ShowFGRound=41]="ShowFGRound",e[e.CloseFGRound=42]="CloseFGRound",e[e.ShowFGTransition=43]="ShowFGTransition",e[e.CloseFGTransition=44]="CloseFGTransition",e[e.ShowFGShowWin=45]="ShowFGShowWin",e[e.CloseFGShowWin=46]="CloseFGShowWin",e[e.ShowNGBackground=47]="ShowNGBackground",e[e.CloseNGBackground=48]="CloseNGBackground",e[e.ShowFGBackground=49]="ShowFGBackground",e[e.CloseFGBackground=50]="CloseFGBackground",e[e.Loading=51]="Loading",e[e.EnableGameScene=52]="EnableGameScene",e[e.LoadingSetting=53]="LoadingSetting",e[e.HideLoading=54]="HideLoading",e[e.HideCredit=55]="HideCredit",e[e.StartGame=56]="StartGame",e[e.GotoNG=57]="GotoNG",e[e.GotoFG=58]="GotoFG",e[e.GotoBG=59]="GotoBG",e[e.TotalWinRunScore=60]="TotalWinRunScore",e[e.TotalWinRunScoreAuto=61]="TotalWinRunScoreAuto",e[e.TotalWinRunScoreFree=62]="TotalWinRunScoreFree",e[e.TotalWinRunScoreFreeAccum=63]="TotalWinRunScoreFreeAccum",e[e.LineTotalWinRunScore=64]="LineTotalWinRunScore",e[e.LineTotalWinRunScoreAuto=65]="LineTotalWinRunScoreAuto",e[e.CreditAddJGTotalWin=66]="CreditAddJGTotalWin",e[e.CreditAddBGTotalWin=67]="CreditAddBGTotalWin",e[e.CreditAddFGTotalWin=68]="CreditAddFGTotalWin",e[e.ClearTotalWinText=69]="ClearTotalWinText",e[e.OpenUITextFg=70]="OpenUITextFg",e[e.HideFGCountText=71]="HideFGCountText",e[e.ShowFGCountText=72]="ShowFGCountText",e[e.UpdateFgCount=73]="UpdateFgCount",e[e.ShowHistoryScoreFG=74]="ShowHistoryScoreFG",e[e.BackgroundToNG=75]="BackgroundToNG",e[e.BackgroundToFG=76]="BackgroundToFG",e[e.ShowMenu=77]="ShowMenu",e[e.HideMenu=78]="HideMenu",e[e.HideButton=79]="HideButton",e[e.ShowButton=80]="ShowButton",e[e.ShowWinLine=81]="ShowWinLine",e[e.ShowWinLineAll=82]="ShowWinLineAll",e[e.HideLine=83]="HideLine",e[e.FGShowWinLineAll=84]="FGShowWinLineAll",e[e.ShowWinSymbol=85]="ShowWinSymbol",e[e.ShowWinSymbolAll=86]="ShowWinSymbolAll",e[e.FGShowWinSymbol=87]="FGShowWinSymbol",e[e.FGShowWinSymbolAll=88]="FGShowWinSymbolAll",e[e.ClearSymbol=89]="ClearSymbol",e[e.ShowWinSymbolFrame=90]="ShowWinSymbolFrame",e[e.ShowWinSymbolFrameAll=91]="ShowWinSymbolFrameAll",e[e.FGShowWinSymbolFrameAll=92]="FGShowWinSymbolFrameAll",e[e.HideSymbolFrame=93]="HideSymbolFrame",e[e.ShowJPSymbolFrame=94]="ShowJPSymbolFrame",e[e.ShowJPSymbolAni=95]="ShowJPSymbolAni",e[e.ShowJP=96]="ShowJP",e[e.JPDone=97]="JPDone",e[e.ShowNGBigWin=98]="ShowNGBigWin",e[e.ShowFGBigWin=99]="ShowFGBigWin",e[e.ShowFreeSymbolAni=100]="ShowFreeSymbolAni",e[e.ShowFreeSymbolAniFG=101]="ShowFreeSymbolAniFG",e[e.ShowFGTriSymbolFrame=102]="ShowFGTriSymbolFrame",e[e.ShowFGReTriSymbolFrame=103]="ShowFGReTriSymbolFrame",e[e.HideRollingFS=104]="HideRollingFS",e[e.TriggerFGTime=105]="TriggerFGTime",e[e.ReTriggerAddCount=106]="ReTriggerAddCount",e[e.ShowFGComplete=107]="ShowFGComplete",e[e.NGToFgGame=108]="NGToFgGame",e[e.FGToNgGame=109]="FGToNgGame",e[e.BrokenFGToNgGame=110]="BrokenFGToNgGame",e[e.HideRollingBS=111]="HideRollingBS",e[e.ShowBonusSymbolAni=112]="ShowBonusSymbolAni",e[e.ShowBonusSymbolFrame=113]="ShowBonusSymbolFrame",e[e.TriggerBg=114]="TriggerBg",e[e.BonusGameWait=115]="BonusGameWait",e[e.BonusOpenBtn=116]="BonusOpenBtn",e[e.BonusSelect=117]="BonusSelect",e[e.BonusComplete=118]="BonusComplete",e[e.BonusWin=119]="BonusWin",e[e.BonusBroken=120]="BonusBroken",e[e.PlayBonusBackFGAudio=121]="PlayBonusBackFGAudio",e[e.BackToNgSound=122]="BackToNgSound",e[e.BackToFgSound=123]="BackToFgSound",e[e.ReSetOtherMask=124]="ReSetOtherMask",e[e.AllReelFadeOut=125]="AllReelFadeOut",e[e.AllReelFadeIn=126]="AllReelFadeIn",e[e.UIFreeGameSpin=127]="UIFreeGameSpin",e[e.ShowRollingSymbolAll=128]="ShowRollingSymbolAll",e[e.HideNGGirl=129]="HideNGGirl",e[e.ShowNGGirl=130]="ShowNGGirl",e[e.HideFGGirl=131]="HideFGGirl",e[e.ShowFGGirl=132]="ShowFGGirl",e[e.ShowNGGirlAni=133]="ShowNGGirlAni",e[e.ShowFGGirlAni=134]="ShowFGGirlAni",e[e.FGWinOverClearEft=135]="FGWinOverClearEft",e}({}));e("SignalAction",{NG:{Test:[[i.Test,i.Write]],Load:[[i.Loading],[i.LoadingSetting]],Init:[[i.EnableGameScene],[i.HideLoading],[i.GotoNG]],SpinStart:[[i.ResetWinScore]],BeforeSpinEnd:[[i.ShowLuBuFire]],Remove:[[i.ShowEliminateScore,i.ShowSymbolFrame,i.ShowSymbolDynamic,i.ShowMultipleOnReel,i.RunEliminateScore,i.RunWinScore],[i.ShowSymbolEliminate],[i.RemoveSymbol,i.FillSymbol,i.ShowLuBuFire,i.ShowFireBall,i.UpdateMultipleText]],MultipleHandle:[[i.CoverMultiple,i.CloseSymbolMultiple],[i.ShowSingleSymbolDynamic,i.ChangeMultipleScale],[i.ShowMultipleFly,i.EliminateScoreMoveLeft,i.ShowMathematicalSymbol],[i.ShowMultipleValue],[i.CloseMathematicalSymbol,i.EliminateScoreMoveBack,i.MultipleValueMoveLeftAndDisappear],[i.MultiplicationEliminateScore],[i.RunWinScore]],Result:[],SpinDone:[],BeforeShowWin:[[i.ShowNGBigWin]],Win:[[i.UpdateCredit]],AllComplete:[[i.CloseEliminateScore]],AutoWin:[[i.ShowWinLineAll,i.ShowWinSymbolFrameAll,i.ShowWinSymbolAll,i.TotalWinRunScoreAuto]],WinExtra:[],NoWin:[],BeforeReSpin:[],BonusEnter:[],BonusIdle:[],BonusPlay:[],BonusComplete:[],JackpotTrigger:[[i.ShowJPSymbolAni,i.ShowJPSymbolFrame],[i.ShowJP,i.ShowRollingSymbolAll,i.ClearSymbol,i.HideSymbolFrame],[i.BackToNgSound]]},FG:{TriggerFG:[[i.ShowFeature,i.ShowTriggerText,i.ShowFreeSymbolDynamic,i.ShowEliminateScore,i.RunEliminateScoreFGState,i.RunWinScore],[i.ShowEnterFG],[i.ShowFGTransition],[i.CloseNGBackground,i.ShowFGBackground,i.CloseEnterFG,i.CloseFGTransition]],BeforeSpin:[[i.CloseTriggerText,i.ShowRoundText,i.ShowFGRound]],Remove:[[i.ShowEliminateScore,i.ShowSymbolFrame,i.ShowSymbolDynamic,i.ShowMultipleOnReel,i.RunEliminateScoreFGState,i.RunWinScore],[i.ShowSymbolEliminate],[i.RemoveSymbol,i.FillSymbol,i.ShowLuBuFire,i.ShowFireBall,i.UpdateMultipleText]],MultipleHandle:[[i.CoverMultiple,i.CloseSymbolMultiple],[i.ShowSingleSymbolDynamic,i.ChangeMultipleScale],[i.ShowMultipleFly,i.EliminateScoreMoveLeft,i.ShowMathematicalSymbol],[i.ShowMultipleValue],[i.CloseMathematicalSymbol,i.EliminateScoreMoveBack,i.MultipleValueMoveLeftAndDisappear],[i.MultiplicationEliminateScore],[i.RunWinScore]],Result:[],SpinDone:[[i.ShowFGBigWin,i.ShowFGCountText]],BeforeShowWin:[],ShowWin:[[i.ShowFGShowWin]],Win:[],AllComplete:[[i.UpdateCredit,i.CloseEliminateScore,i.CloseFGShowWin,i.CloseFeature,i.CloseFGRound,i.CloseRoundText,i.CloseFGBackground,i.ShowNGBackground]],Idle:[[i.FGWinOverClearEft]],NoWin:[],BeforeReSpin:[],FirstTriggerEnterFg:[[i.ShowFreeSymbolAni,i.HideRollingFS,i.ShowFGTriSymbolFrame],[i.ClearSymbol,i.TriggerFGTime,i.NGToFgGame,i.ShowRollingSymbolAll,i.HideSymbolFrame],[i.HideButton,i.BackgroundToFG,i.ShowFGGirlAni,i.ShowFGCountText],[i.HideNGGirl]],ReTrigger:[[i.ShowFreeSymbolAni,i.HideRollingFS,i.ShowFGReTriSymbolFrame],[i.ReTriggerAddCount,i.ClearSymbol,i.ShowRollingSymbolAll,i.HideSymbolFrame]],FreeSettleComplete:[[i.ShowFGComplete],[i.HideFGGirl],[i.AllReelFadeOut,i.ShowButton,i.HideFGCountText,i.BackgroundToNG],[i.FGToNgGame],[i.AllReelFadeIn],[i.ShowNGGirlAni]],BonusEnter:[],BonusIdle:[],BonusPlay:[],BonusComplete:[],JackpotTrigger:[[i.ShowJPSymbolAni],[i.ShowJP,i.ShowRollingSymbolAll,i.ClearSymbol],[i.BackToFgSound]]},BG:{BonusEnter:[[i.TriggerBg],[i.ShowBonusSymbolAni]],BonusIdle:[[i.BonusGameWait]],BonusPlay:[[i.BonusSelect]],BonusComplete:[[i.BonusComplete]]}}),e("reelFakeRangeData",new Array(["N1","N2","N3","N1","H4","N4","N4","H4","H3","H1","N2","H4","H4","H2","N4","N1","N4","N3","N4","N4","N1","N3","S1","N4","N4","H2","N4","N3","N2","N4","S1","N4","H1","N2","N3","N4","N4","N4","H1","N2","N3"],["H2","N4","H3","H3","N4","S1","N3","N4","N4","H2","H3","N4","N4","W","N4","N4","H3","N3","H3","S1","N3","N4","H1","N4","N2","W","H4","H3","N4","N4","N3","N4","H1","H3","N4","N4","N2","S1","N4","N4","N4","N4","N4","N3","H2","N3"],["H1","N4","N4","H3","N4","S1","N3","N4","N4","H2","H3","N4","N4","W","H4","N4","N4","H3","N3","H3","S1","N3","N4","H1","N3","N2","W","H4","H3","N4","N4","N3","N4","H1","H3","N4","N4","N2","S1","N4","N4","N4","N4","N4","N3","H2","N3"],["H2","N4","N4","H3","N4","S1","N3","N4","N4","H2","H3","N4","N4","W","N4","N4","H3","N3","H3","S1","N3","N4","H1","N3","N2","W","H4","H4","H3","N4","N4","N3","N4","H1","H3","N4","N4","N2","S1","N4","N4","N4","N4","N4","N3","H2","N3"],["N1","N2","W","N3","N4","H1","N2","N3","H2","N4","H3","N3","N3","H4","N4","N4","H1","H1","H1","N4","N3","N4","N3","N2","N1","N4","H2","H2","S1","H2","N4","N3","N3","N4","N4","N2","N1","H3","H3","H3","N2","N2","W","W","N1","N1","N1","N2","N3","S1","N1","H4","N3","N4","H4","H4","H4","N2","N2","N2","W","W","W","N3","N3","N3","N4","N4","N4","N3","N4"]));o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePoolManager.ts","./SignalManager.ts","./Definition.ts","./AudioEngineControl.ts"],(function(e){var t,o,l,i,n,r,a,s,c,u,h,p,m,f,_,y,d,S,B,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,s=e.Prefab,c=e.dragonBones,u=e.Label,h=e.tween,p=e.Vec3,m=e.UITransform,f=e.Component},function(e){_=e.NodePoolManager},function(e){y=e.AddSignal,d=e.SignalManager},function(e){S=e.SignalType,B=e.SoundList},function(e){P=e.AudioEngineControl}],execute:function(){var g,v,b,C,M;r._RF.push({},"c20faSOuN9CfInAOnt03J/N","EffectComponent",void 0);var w=a.ccclass,E=a.property;e("EffectComponent",(g=w("EffectComponent"),v=E(s),g((M=t((C=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,l(t,"fireBall",M,i(t)),t._score=null,t._mMultiple=null,t.fireBallStore=[],t._symbolWorldPos=[],t._symbolLocalPos=[],t._eliminateBannerWorldPos=null,t._eliminateBannerLocalPos=null,t._checkPosOrder=[3,4,2,5,1],t._multiplePos=[],t._multipleText=[],t._removeSymbolRule=null,t._betMultiple=void 0,t._multipleSymbolPos=[],t}o(t,e);var r=t.prototype;return r.onLoad=function(){this._score=this.node.getChildByName("Score"),this._mMultiple=this.node.getChildByName("MovingMultiple"),this._score.active=!1,this._mMultiple.active=!1,y(S.ShowFireBall,this.onShowFireBall.bind(this)),y(S.ShowMultipleOnReel,this.onShowMultipleOnReel.bind(this)),y(S.CoverMultiple,this.onCoverMultiple.bind(this)),y(S.ChangeMultipleScale,this.onChangeMultipleScale.bind(this)),y(S.ShowMultipleFly,this.onShowMultipleFly.bind(this))},r.playFireBall=function(e){var t=this;P.getInstance().playAudio(B.FireBall,1),e.forEach((function(e,o){e.forEach((function(e){var l=t._symbolLocalPos[o][e-1],i=_.getNodePoolMgr().createNode("FireBall",t.node,t.fireBall);t.fireBallStore.push(i);var n=l.clone();n.y=n.y+124,i.setPosition(n),i.getComponent(c.ArmatureDisplay).once(c.EventObject.COMPLETE,t.onFireBallComplete,t),i.getComponent(c.ArmatureDisplay).playAnimation("play",1)}))}))},r.onFireBallComplete=function(){0!=this.fireBallStore.length&&(this.fireBallStore.forEach((function(e){_.getNodePoolMgr().returnNode("FireBall",e)})),this.fireBallStore.splice(0,this.fireBallStore.length))},r.onShowFireBall=function(e){var t=this;this._multiplePos.some((function(e){return e.length>0}))?(P.getInstance().playAudio(B.FireBall,1),this._multiplePos.forEach((function(e,o){e.forEach((function(e){var l=t._symbolLocalPos[o][e-1],i=_.getNodePoolMgr().createNode("FireBall",t.node,t.fireBall);t.fireBallStore.push(i);var n=l.clone();n.y=n.y+124,i.setPosition(n),i.getComponent(c.ArmatureDisplay).once(c.EventObject.COMPLETE,t.onShowFireBallComplete,t),i.getComponent(c.ArmatureDisplay).playAnimation("play",1)}))}))):e.CallBack()},r.onShowFireBallComplete=function(){d.CallBack(S[S.ShowFireBall])},r.onShowMultipleOnReel=function(e){for(var t,o=this,l=function(e){if(o._removeSymbolRule.removePos[2].some((function(t){return t==o._checkPosOrder[e]})))return t=o._checkPosOrder[e],1},i=0;i<this._checkPosOrder.length&&!l(i);i++);if(null==t)return console.error("消除位置不正確，第三個滾輪必須有消除的圖標"),void e.CallBack();this._score.setPosition(this._symbolLocalPos[2][t-1]),this._score.getComponent(u).string=Number(this._removeSymbolRule.score*this._betMultiple).toFixed(2).toString(),this._score.active=!0,h(this._score).by(1,{position:new p(0,50,0)}).call((function(){o._score.active=!1,e.CallBack()})).start()},r.onCoverMultiple=function(e){var t=this;this._multipleSymbolPos.forEach((function(o){var l=t._symbolLocalPos[o.reelBarOrdinal-1][o.symbolOrdinal-1].clone();t._mMultiple.getComponent(u).string=o.multiplText,t._mMultiple.setPosition(l),t._mMultiple.active=!0,e.CallBack()}))},r.onChangeMultipleScale=function(e){h(this._mMultiple).to(.3,{scale:new p(1.2,1.2,1.2)}).to(.3,{scale:new p(1,1,1)}).call((function(){e.CallBack()})).start()},r.onShowMultipleFly=function(e){var t=this;h(this._mMultiple).to(.5,{position:new p(this._eliminateBannerLocalPos.x+45,this._eliminateBannerLocalPos.y,this._eliminateBannerLocalPos.z)}).call((function(){t._mMultiple.active=!1,e.CallBack()})).start()},r.start=function(){},r.update=function(e){},n(t,[{key:"SetSymbolsPosition",set:function(e){var t=this;this._symbolWorldPos=e,this._symbolWorldPos.forEach((function(e){var o=[];e.forEach((function(e){var l=new p;t.node.getComponent(m).convertToNodeSpaceAR(e,l),o.push(l)})),t._symbolLocalPos.push(o)}))}},{key:"SetEliminateBannerPosition",set:function(e){this._eliminateBannerWorldPos=e;var t=new p;this.node.getComponent(m).convertToNodeSpaceAR(this._eliminateBannerWorldPos,t),this._eliminateBannerLocalPos=t}},{key:"SetRemoveSymbolRule",set:function(e){this._removeSymbolRule=e,this._multiplePos=e.multipleInfo.pos,this._multipleText=e.multipleInfo.text}},{key:"SetBetMultiple",set:function(e){this._betMultiple=e}},{key:"SetMultipleSymbolPos",set:function(e){this._multipleSymbolPos=e}}]),t}(f)).prototype,"fireBall",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(e){var t,o,n;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},null,function(e){n=e.Mediator}],execute:function(){o._RF.push({},"bbfaalRr0FDNoID4iIXHOkb","EffectMediator",void 0),e("EffectMediator",function(e){function o(t){var n;return(n=e.call(this,o.NAME,t)||this).effectComponent=null,n.effectComponent=t,n}t(o,e);var n=o.prototype;return n.onRegister=function(){},n.listNotificationInterests=function(){return["SET_SYMBOL_POS","FIRE_BALL","SET_REMOVE_INFO","SET_ELIMINATESCORE_POS","SAVED_MULTIPLE_SYMBOL","SET_BET_MULTIPLE"]},n.handleNotification=function(e){var t=this;switch(e.name){case"SET_SYMBOL_POS":this.effectComponent.SetSymbolsPosition=e.body;break;case"SET_REMOVE_INFO":this.effectComponent.SetRemoveSymbolRule=e.body;break;case"SET_ELIMINATESCORE_POS":this.effectComponent.SetEliminateBannerPosition=e.body;break;case"SAVED_MULTIPLE_SYMBOL":var o=e.body;this.effectComponent.SetMultipleSymbolPos=o;break;case"FIRE_BALL":var n=e.body;setTimeout((function(){t.effectComponent.playFireBall(n)}),1e3);break;case"SET_BET_MULTIPLE":this.effectComponent.SetBetMultiple=e.body}},o}(n)).NAME="EffectMediator",o._RF.pop()}}}));

System.register("chunks:///_virtual/EliminateScoreComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SignalManager.ts","./Definition.ts","./RunScore.ts","./AudioEngineControl.ts"],(function(t){var e,i,o,n,l,a,r,c,s,u,m,h,p,S,f,b,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,l=t.createClass},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,s=t.Label,u=t.tween,m=t.Vec3,h=t.UIOpacity,p=t.Component},function(t){S=t.AddSignal},function(t){f=t.SignalType,b=t.SoundList},function(t){g=t.RunScore},function(t){d=t.AudioEngineControl}],execute:function(){var C,y,v,M,E,w,V,k,B,T,_;a._RF.push({},"efecalM0fxFJaYkQTzn379L","EliminateScoreComponent",void 0);var P=r.ccclass,N=r.property;t("EliminateScoreComponent",(C=P("EliminateScoreComponent"),y=N(c),v=N(c),M=N(c),E=N(c),C((k=e((V=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,o(e,"banner",k,n(e)),o(e,"score",B,n(e)),o(e,"mathSymbol",T,n(e)),o(e,"multipleValue",_,n(e)),e.originalPosition=null,e._multipleSymbolPos=[],e._scoreToShow=0,e._removeSymbolRule=null,e._multipleToCalculate=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.originalPosition={scoreNode:this.score.getPosition(),multipleValueNode:this.multipleValue.getPosition()},this.node.active=!1,this.mathSymbol.active=!1,this.multipleValue.active=!1;var t=this.score.getComponent(g);t.isDecimal=!0,t.isDecimalFixed=!0,t.setPlaces=2,t.init(),S(f.ShowEliminateScore,this.onShowEliminateScore.bind(this)),S(f.CloseEliminateScore,this.onCloseEliminateScore.bind(this)),S(f.EliminateScoreMoveLeft,this.onEliminateScoreMoveLeft.bind(this)),S(f.RunEliminateScore,this.onRunEliminateScore.bind(this)),S(f.RunEliminateScoreFGState,this.onRunEliminateScoreFGState.bind(this)),S(f.ShowMathematicalSymbol,this.onShowMathematicalSymbol.bind(this)),S(f.ShowMultipleValue,this.onShowMultipleValue.bind(this)),S(f.CloseMathematicalSymbol,this.onCloseMathematicalSymbol.bind(this)),S(f.EliminateScoreMoveBack,this.onEliminateScoreMoveBack.bind(this)),S(f.MultipleValueMoveLeftAndDisappear,this.onMultipleValueMoveLeftAndDisappear.bind(this)),S(f.MultiplicationEliminateScore,this.onMultiplicationEliminateScore.bind(this))},a.reset=function(){this.score.getComponent(s).string="",this.multipleValue.getComponent(s).string=""},a.onShowEliminateScore=function(t){this.node.active=!0,t.CallBack()},a.onCloseEliminateScore=function(t){this.node.active=!1,t.CallBack()},a.onEliminateScoreMoveLeft=function(t){u(this.score).by(.5,{position:new m(-50,0,0)}).call((function(){t.CallBack()})).start()},a.onRunEliminateScore=function(t){var e,i=this,o=this.score.getComponent(s).string,n=this.score.getComponent(g),l=0;""!=o?(l=Number(o),e=l+this._scoreToShow,n.runScoreTime(1,e,l,(function(){i.score.getComponent(s).string=Number(e).toFixed(2).toString(),t.CallBack()}))):(e=Number(this._scoreToShow.toFixed(2)),n.runScoreTime(1,e,l,(function(){i.score.getComponent(s).string=Number(e).toFixed(2).toString(),t.CallBack()})))},a.onRunEliminateScoreFGState=function(t){var e=this,i=this.score.getComponent(g),o=Number(this._scoreToShow.toFixed(2));i.runScoreTime(1,o,0,(function(){e.score.getComponent(s).string=Number(o).toFixed(2).toString(),t.CallBack()}))},a.onShowMathematicalSymbol=function(t){this.mathSymbol.active=!0,t.CallBack()},a.onShowMultipleValue=function(t){this.multipleValue.active=!0,this.multipleValue.getComponent(s).string=this._multipleToCalculate.toString(),u(this.multipleValue).to(.1,{scale:new m(1,1,1)}).call((function(){t.CallBack()})).start()},a.onCloseMathematicalSymbol=function(t){this.mathSymbol.active=!1,t.CallBack()},a.onEliminateScoreMoveBack=function(t){u(this.score).to(.5,{position:this.originalPosition.scoreNode}).call((function(){t.CallBack()})).start()},a.onMultipleValueMoveLeftAndDisappear=function(t){var e=this,i=(u(this.multipleValue).by(.5,{position:new m(-50,0,0)}).call((function(){e.multipleValue.setPosition(e.originalPosition.multipleValueNode)})).start(),this.multipleValue.getComponent(h));u(i).to(.5,{opacity:0}).call((function(){e.multipleValue.active=!1,e.multipleValue.getComponent(h).opacity=255,t.CallBack()})).start()},a.onMultiplicationEliminateScore=function(t){d.getInstance().playAudio(b.MultiplicationEnd,1);var e=Number(this.score.getComponent(s).string)*Number(this.multipleValue.getComponent(s).string);this.score.getComponent(s).string=Number(e).toFixed(2).toString(),u(this.score).to(.3,{scale:new m(1.5,1.5,1.5)}).to(.3,{scale:new m(1,1,1)}).call((function(){t.CallBack()})).start()},a.start=function(){},a.update=function(t){},l(e,[{key:"GetEliminateBannerWorldPosition",get:function(){return this.banner.worldPosition}},{key:"SetMultipleSymbolPos",set:function(t){this._multipleSymbolPos=t}},{key:"SetScoreToShow",set:function(t){this._scoreToShow=t}},{key:"SetRemoveSymbolRule",set:function(t){this._removeSymbolRule=t}},{key:"SetMultipleToCalculate",set:function(t){this._multipleToCalculate=t}}]),e}(p)).prototype,"banner",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(V.prototype,"score",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(V.prototype,"mathSymbol",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(V.prototype,"multipleValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=V))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/EliminateScoreMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(e){var t,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},null,function(e){i=e.Mediator}],execute:function(){o._RF.push({},"3379anOCPpK0Kkja3qNyPRm","EliminateScoreMediator",void 0),e("EliminateScoreMediator",function(e){function o(t){var i;return(i=e.call(this,o.NAME,t)||this).eliminateScoreComponent=null,i.eliminateScoreComponent=t,i}t(o,e);var i=o.prototype;return i.onRegister=function(){},i.listNotificationInterests=function(){return["SAVED_ELIMINATESCORE_POS","SAVED_MULTIPLE_SYMBOL","SET_REMOVE_INFO","SET_SCORE_VALUE","SET_SCORE_VALUE_EliminateScoreComponent","SET_MULTIPLE_VALUE","RESET"]},i.handleNotification=function(e){switch(e.name){case"SAVED_ELIMINATESCORE_POS":var t=this.eliminateScoreComponent.GetEliminateBannerWorldPosition;this.sendNotification("SET_ELIMINATESCORE_POS",t);break;case"SAVED_MULTIPLE_SYMBOL":var o=e.body;this.eliminateScoreComponent.SetMultipleSymbolPos=o;break;case"SET_REMOVE_INFO":this.eliminateScoreComponent.SetRemoveSymbolRule=e.body;break;case"SET_SCORE_VALUE":case"SET_SCORE_VALUE_EliminateScoreComponent":this.eliminateScoreComponent.SetScoreToShow=e.body;break;case"SET_MULTIPLE_VALUE":this.eliminateScoreComponent.SetMultipleToCalculate=e.body;break;case"RESET":this.eliminateScoreComponent.reset()}},o}(i)).NAME="EliminateScoreMediator",o._RF.pop()}}}));

System.register("chunks:///_virtual/Facade.ts",["cc","./Controller.ts","./Model.ts","./View.ts","./Notification.ts"],(function(n){var i,t,e,r,o;return{setters:[function(n){i=n.cclegacy},function(n){t=n.Controller},function(n){e=n.Model},function(n){r=n.View},function(n){o=n.Notification}],execute:function(){i._RF.push({},"c2fd2pUY0JNcptydMFiBnSL","Facade",void 0);var l=n("Facade",function(){function n(){if(this.controller=void 0,this.model=void 0,this.view=void 0,null!=n.instance)throw Error(n.SINGLETON_MSG);n.instance=this,this.initializeFacade()}var i=n.prototype;return i.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},n.getInstance=function(i){return null==n.instance&&(n.instance=i()),n.instance},i.initializeModel=function(){this.model=e.getInstance((function(){return new e}))},i.initializeController=function(){this.controller=t.getInstance((function(){return new t}))},i.initializeView=function(){this.view=r.getInstance((function(){return new r}))},i.registerCommand=function(n,i){var t;null==(t=this.controller)||t.registerCommand(n,i)},i.hasCommand=function(n){var i,t;return null!=(i=null==(t=this.controller)?void 0:t.hasCommand(n))&&i},i.removeCommand=function(n){var i;null==(i=this.controller)||i.removeCommand(n)},i.registerProxy=function(n){var i;null==(i=this.model)||i.registerProxy(n)},i.retrieveProxy=function(n){var i,t;return null!=(i=null==(t=this.model)?void 0:t.retrieveProxy(n))?i:null},i.hasProxy=function(n){var i,t;return null!=(i=null==(t=this.model)?void 0:t.hasProxy(n))&&i},i.removeProxy=function(n){var i,t;return null!=(i=null==(t=this.model)?void 0:t.removeProxy(n))?i:null},i.registerMediator=function(n){var i;null==(i=this.view)||i.registerMediator(n)},i.retrieveMediator=function(n){var i,t;return null!=(i=null==(t=this.view)?void 0:t.retrieveMediator(n))?i:null},i.hasMediator=function(n){var i,t;return null!=(i=null==(t=this.view)?void 0:t.hasMediator(n))&&i},i.removeMediator=function(n){var i,t;return null!=(i=null==(t=this.view)?void 0:t.removeMediator(n))?i:null},i.notifyObservers=function(n){var i;null==(i=this.view)||i.notifyObservers(n)},i.sendNotification=function(n,i,t){this.notifyObservers(new o(n,i,t))},n}());l.SINGLETON_MSG="Facade Singleton already constructed!",l.instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/FeaturePlayState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts","./Definition.ts","./AudioEngineControl.ts"],(function(t){var e,n,o,a,r,i,s,u,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.FSMProxy},function(t){a=t.SlotProxy},function(t){r=t.StateBase},function(t){i=t.GameState},function(t){s=t.GameFacade},function(t){u=t.SoundList,l=t.SignalAction},function(t){c=t.AudioEngineControl}],execute:function(){n._RF.push({},"8d9a0VLip1H27eV86jFpSsE","FeaturePlayState",void 0);t("FeaturePlayState",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.onEnter=function(t,e){return console.log("FeaturePlayState onEnter"),!0},r.on=function(e,n){t.prototype.on.call(this,e,n),console.log("FeaturePlayState on");var r=this.event.facade.retrieveProxy(o.NAME),f=n.facade.retrieveProxy(a.NAME);if(f.hasFG())return c.getInstance().playAudio(u.FGTriggerBG,1),void n.fsm.go(i.FGTrigger,r.fsmEvent(s.FGTRIGGER,l.FG.TriggerFG));f.hasRemoveInfo()?n.fsm.go(i.Remove,r.fsmEvent(s.REMOVE,l.NG.Remove)):n.fsm.go(i.NGComplete,r.fsmEvent(null,l.NG.AllComplete))},r.call=function(){console.log("動畫結束")},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/FGCompleteState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts"],(function(t){var e,o,n,a,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.FSMProxy},function(t){a=t.SlotProxy},function(t){r=t.StateBase},function(t){c=t.GameState},function(t){i=t.GameFacade}],execute:function(){o._RF.push({},"b312eZVzz9NsrGJ2yiQW5lF","FGCompleteState",void 0);t("FGCompleteState",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var r=o.prototype;return r.onEnter=function(t,e){return console.log("FGCompleteState onEnter"),!0},r.on=function(e,o){t.prototype.on.call(this,e,o),console.log("FGCompleteState on");o.facade.retrieveProxy(a.NAME)},r.call=function(){console.log("動畫結束");var t=this.event.facade.retrieveProxy(n.NAME);this.event.fsm.go(c.Wait,t.fsmEvent(i.WAIT))},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGFeaturePlayState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts","./Definition.ts","./ScoreProxy.ts"],(function(e){var t,o,n,a,r,i,c,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.FSMProxy},function(e){a=e.SlotProxy},function(e){r=e.StateBase},function(e){i=e.GameState},function(e){c=e.GameFacade},function(e){s=e.SignalAction},function(e){u=e.ScoreProxy}],execute:function(){o._RF.push({},"aea56E9CchH6b5b2R1ZAhzZ","FGFeaturePlayState",void 0);e("FGFeaturePlayState",function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var r=o.prototype;return r.onEnter=function(e,t){return console.log("FGFeaturePlayState onEnter"),!0},r.on=function(t,o){e.prototype.on.call(this,t,o),console.log("FGFeaturePlayState on");var r=this.event.facade.retrieveProxy(n.NAME),f=o.facade.retrieveProxy(a.NAME);if(f.hasFGRemoveInfo())o.fsm.go(i.FGRemove,r.fsmEvent(c.FGREMOVE,s.FG.Remove));else if(f.isFGRoundComplete()){var l=o.facade.retrieveProxy(u.NAME);this.event.facade.sendNotification("SET_SCORE_VALUE_TransitionComponent",l.GetScore),o.fsm.go(i.FGShowWin,r.fsmEvent(null,s.FG.ShowWin))}else o.fsm.go(i.FGWait,r.fsmEvent())},r.call=function(){console.log("動畫結束")},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGMultipleHandleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts","./Definition.ts","./MultipleProxy.ts","./ScoreProxy.ts"],(function(e){var t,n,o,i,l,a,r,s,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.FSMProxy},function(e){i=e.SlotProxy},function(e){l=e.StateBase},function(e){a=e.GameState},function(e){r=e.GameFacade},function(e){s=e.SignalAction},function(e){c=e.MultipleProxy},function(e){u=e.ScoreProxy}],execute:function(){n._RF.push({},"71e952FHZNG/4YdxuyriK2Q","FGMultipleHandleState",void 0);e("FGMultipleHandleState",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var l=n.prototype;return l.onEnter=function(e,t){return console.log("FGMultipleHandleState onEnter"),!0},l.on=function(t,n){e.prototype.on.call(this,t,n),console.log("FGMultipleHandleState on");n.facade.retrieveProxy(i.NAME)},l.call=function(){console.log("動畫結束");var e=this.event.facade.retrieveProxy(o.NAME),t=this.event.facade.retrieveProxy(i.NAME);if(this.event.facade.retrieveProxy(c.NAME).hasNextMultipleSymbol())this.event.fsm.go(a.FGMultipleHandle,e.fsmEvent(r.FGMULTIPLE_HANDLE,s.FG.MultipleHandle));else if(t.isFGRoundComplete()){var n=this.event.facade.retrieveProxy(u.NAME);this.event.facade.sendNotification("SET_SCORE_VALUE_TransitionComponent",n.GetScore),this.event.fsm.go(a.FGShowWin,e.fsmEvent(null,s.FG.ShowWin))}else this.event.fsm.go(a.FGWait,e.fsmEvent())},n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/FGMultipleHandleStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./MultipleProxy.ts","./ScoreProxy.ts","./SimpleCommand.ts"],(function(t){var e,i,n,o,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.MultipleProxy},function(t){o=t.ScoreProxy},function(t){l=t.SimpleCommand}],execute:function(){i._RF.push({},"949297x0KZGZKXCNWKyka66","FGMultipleHandleStateCommand",void 0);t("FGMultipleHandleStateCommand",function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.execute=function(t){var e=this.facade.retrieveProxy(n.NAME).getCurrentMultiplePos();this.facade.sendNotification("SAVED_MULTIPLE_SYMBOL",e);var i=this.facade.retrieveProxy(o.NAME),l=e[0].multiplText.substring(0,e[0].multiplText.length-1);i.SetMultipleFGState=Number(l),console.log("! 目前的要跑的倍數分數:",l),this.facade.sendNotification("SET_MULTIPLE_VALUE",i.GetMultiple),this.facade.sendNotification("SET_SCORE_VALUE",i.GetScore)},i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/FGRemoveState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts","./Definition.ts","./ScoreProxy.ts"],(function(e){var t,o,n,i,s,a,r,c,f;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.FSMProxy},function(e){i=e.SlotProxy},function(e){s=e.StateBase},function(e){a=e.GameState},function(e){r=e.GameFacade},function(e){c=e.SignalAction},function(e){f=e.ScoreProxy}],execute:function(){o._RF.push({},"be66fWdkERAJZYKJUSNxQah","FGRemoveState",void 0);e("FGRemoveState",function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var s=o.prototype;return s.onEnter=function(e,t){return console.log("FGRemoveState onEnter"),!0},s.on=function(t,o){e.prototype.on.call(this,t,o),console.log("FGRemoveState on");o.facade.retrieveProxy(i.NAME)},s.call=function(){console.log("動畫結束");var e=this.event.facade.retrieveProxy(i.NAME),t=this.event.facade.retrieveProxy(n.NAME);if(e.isNextFGRemove())this.event.fsm.go(a.FGRemove,t.fsmEvent(r.FGREMOVE,c.FG.Remove));else if(e.hasFGMultipleInfo())this.event.facade.sendNotification("SEARCH_MULTIPLE_SYMBOL"),this.event.fsm.go(a.FGMultipleHandle,t.fsmEvent(r.FGMULTIPLE_HANDLE,c.FG.MultipleHandle));else if(e.isFGRoundComplete()){var o=this.event.facade.retrieveProxy(f.NAME);this.event.facade.sendNotification("SET_SCORE_VALUE_TransitionComponent",o.GetScore),this.event.fsm.go(a.FGShowWin,t.fsmEvent(null,c.FG.ShowWin))}else this.event.fsm.go(a.FGWait,t.fsmEvent())},o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGRemoveStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./BetProxy.ts","./ScoreProxy.ts","./SlotProxy.ts","./SimpleCommand.ts"],(function(e){var t,o,n,i,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},null,function(e){n=e.BetProxy},function(e){i=e.ScoreProxy},function(e){r=e.SlotProxy},function(e){a=e.SimpleCommand}],execute:function(){o._RF.push({},"c6e2eZ/W9lLDqoJ3FHe1r1v","FGRemoveStateCommand",void 0);e("FGRemoveStateCommand",function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.execute=function(e){var t=this.facade.retrieveProxy(r.NAME).getFGRemoveUpdateReelData();this.facade.sendNotification("SET_REMOVE_INFO",t);var o=this.facade.retrieveProxy(n.NAME);if(this.facade.sendNotification("SET_BET_MULTIPLE",o.GetCurrentBetMultiple),null!=t){var a=this.facade.retrieveProxy(i.NAME);a.SetScoreFGState=t.score,this.facade.sendNotification("SET_SCORE_VALUE_MainInformationComponent",a.GetScore),this.facade.sendNotification("SET_SCORE_VALUE_EliminateScoreComponent",a.GetEliminateScore)}},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGShowWinState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./StateBase.ts","./GameState.ts","./Definition.ts"],(function(t){var n,e,o,i,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.FSMProxy},function(t){i=t.StateBase},function(t){r=t.GameState},function(t){s=t.SignalAction}],execute:function(){e._RF.push({},"496584rbsxBHa+FUzm5/R25","FGShowWinState",void 0);t("FGShowWinState",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onEnter=function(t,n){return console.log("FGShowWinState onEnter"),!0},i.on=function(n,e){t.prototype.on.call(this,n,e),console.log("FGShowWinState on")},i.call=function(){console.log("動畫結束");var t=this.event.facade.retrieveProxy(o.NAME);this.event.fsm.go(r.FGComplete,t.fsmEvent(null,s.FG.AllComplete))},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/FGSpinState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotProxy.ts","./StateBase.ts"],(function(t){var e,n,i,o,a,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){a=t.SlotProxy},function(t){s=t.StateBase}],execute:function(){o._RF.push({},"c012dGifwpHLLtpHK0RIDAW","FGSpinState",void 0);t("FGSpinState",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var s=o.prototype;return s.onEnter=function(t,e){return console.log("FGSpinState onEnter"),!0},s.on=function(e,n){t.prototype.on.call(this,e,n),console.log("FGSpinState on")},s.call=function(){console.log("動畫結束"),this.event.facade.sendNotification("SPIN_OUT",this.onGainSpinResult.bind(this))},s.onGainSpinResult=function(){var t=n(i().mark((function t(){var e,n,o,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.event.facade.sendNotification("RESET_REEL"),e=this.event.facade.retrieveProxy(a.NAME),n=e.GetFGSpinReelData,!e.hasMultipInfoBeforeFGRemove){t.next=13;break}return this.event.facade.sendNotification("LUBU_FIRE"),this.event.facade.sendNotification("SET_MULTIPLE_TEXT",n.multipleInfo),t.next=8,e.getFGSpinUpdateReelData();case 8:o=t.sent,this.event.facade.sendNotification("SPIN_IN",o),this.event.facade.sendNotification("FIRE_BALL",n.multipleInfo.pos),t.next=17;break;case 13:return t.next=15,e.getFGSpinUpdateReelData();case 15:s=t.sent,this.event.facade.sendNotification("SPIN_IN",s);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGTriggerState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts"],(function(t){var e,o,n,r,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.FSMProxy},function(t){r=t.SlotProxy},function(t){i=t.StateBase},function(t){a=t.GameState}],execute:function(){o._RF.push({},"bd430V/6btF1qiNxEFK88zd","FGTriggerState",void 0);t("FGTriggerState",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var i=o.prototype;return i.onEnter=function(t,e){return console.log("FGTriggerState onEnter"),!0},i.on=function(e,o){t.prototype.on.call(this,e,o),console.log("FGTriggerState on");o.facade.retrieveProxy(r.NAME)},i.call=function(){console.log("動畫結束");var t=this.event.facade.retrieveProxy(n.NAME);this.event.fsm.go(a.FGWait,t.fsmEvent())},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGTriggerStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./ScoreProxy.ts","./SlotProxy.ts","./SimpleCommand.ts"],(function(t){var e,o,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},null,function(t){n=t.ScoreProxy},function(t){i=t.SlotProxy},function(t){r=t.SimpleCommand}],execute:function(){o._RF.push({},"e661b/Ed/RGCqzKW1scelnl","FGTriggerStateCommand",void 0);t("FGTriggerStateCommand",function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.execute=function(t){var e=this.facade.retrieveProxy(i.NAME),o=e.getFGSymbolScore(),r=this.facade.retrieveProxy(n.NAME);r.SetScoreFGState=o,this.facade.sendNotification("SET_SCORE_VALUE_MainInformationComponent",r.GetScore),this.facade.sendNotification("SET_SCORE_VALUE_EliminateScoreComponent",r.GetEliminateScore),this.facade.sendNotification("SET_FG_TOTAL_ROUND",e.GetFGTotalRound)},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/FGWaitState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./Definition.ts"],(function(t){var n,e,o,i,a,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.FSMProxy},function(t){i=t.SlotProxy},function(t){a=t.StateBase},function(t){r=t.GameState},function(t){c=t.SignalAction}],execute:function(){e._RF.push({},"d80e1YDVvVFcrnBXN/eqz/u","FGWaitState",void 0);t("FGWaitState",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var a=e.prototype;return a.onEnter=function(t,n){return console.log("FGWaitState onEnter"),!0},a.on=function(n,e){t.prototype.on.call(this,n,e),console.log("FGWaitState on");var a=e.facade.retrieveProxy(i.NAME);e.facade.sendNotification("UPDATE_FG_ROUND",a.GetRestOfFGRound);var s=e.facade.retrieveProxy(o.NAME);setTimeout((function(){e.fsm.go(r.FGSpin,s.fsmEvent(null,c.FG.BeforeSpin))}),500)},a.call=function(){console.log("動畫結束")},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/fsm.min.cjs",["./cjs-loader.mjs"],(function(t,n){var i;return{setters:[function(t){i=t.default}],execute:function(){t("default",void 0);var s=t("__cjsMetaURL",n.meta.url);i.define(s,(function(n,i,s,r,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultResetOptions=n.FiniteStateMachine=n.TransitionFunction=n.Transitions=void 0;var o=function(){function t(t){this.fsm=t}var n=t.prototype;return n.to=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this.toStates=n,this.fsm.addTransitions(this)},n.toAny=function(t){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(t[i]);this.toStates=n,this.fsm.addTransitions(this)},t}();n.Transitions=o;var e=function(t,n,i){this.fsm=t,this.from=n,this.to=i};n.TransitionFunction=e;var c=function(){function t(t,n){void 0===n&&(n=!1),this._transitionFunctions=[],this._onCallbacks={},this._exitCallbacks={},this._enterCallbacks={},this._invalidTransitionCallback=null,this.currentState=t,this._startState=t,this._allowImplicitSelfTransition=n}var i=t.prototype;return i.addTransitions=function(t){var n=this;t.fromStates.forEach((function(i){t.toStates.forEach((function(t){n._canGo(i,t)||n._transitionFunctions.push(new e(n,i,t))}))}))},i.on=function(t,n){var i=t.toString();return this._onCallbacks[i]||(this._onCallbacks[i]=[]),this._onCallbacks[i].push(n),this},i.onEnter=function(t,n){var i=t.toString();return this._enterCallbacks[i]||(this._enterCallbacks[i]=[]),this._enterCallbacks[i].push(n),this},i.onExit=function(t,n){var i=t.toString();return this._exitCallbacks[i]||(this._exitCallbacks[i]=[]),this._exitCallbacks[i].push(n),this},i.onInvalidTransition=function(t){return this._invalidTransitionCallback||(this._invalidTransitionCallback=t),this},i.from=function(){for(var t=new o(this),n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.fromStates=i,t},i.fromAny=function(t){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(t[i]);var s=new o(this);return s.fromStates=n,s},i._validTransition=function(t,n){return this._transitionFunctions.some((function(i){return i.from===t&&i.to===n}))},i._canGo=function(t,n){return this._allowImplicitSelfTransition&&t===n||this._validTransition(t,n)},i.canGo=function(t){return this._canGo(this.currentState,t)},i.go=function(t,n){if(this.canGo(t))this._transitionTo(t,n);else if(!this._invalidTransitionCallback||!this._invalidTransitionCallback(this.currentState,t))throw new Error("Error no transition function exists from state "+this.currentState.toString()+" to "+t.toString())},i.onTransition=function(t,n){},i.reset=function(t){var i=this;t=Object.assign(Object.assign({},n.DefaultResetOptions),t||{}),this.currentState=this._startState,t.runCallbacks&&this._onCallbacks[this.currentState.toString()].forEach((function(t){t.call(i,null,null)}))},i.is=function(t){return this.currentState===t},i._transitionTo=function(t,n){var i=this;this._exitCallbacks[this.currentState.toString()]||(this._exitCallbacks[this.currentState.toString()]=[]),this._enterCallbacks[t.toString()]||(this._enterCallbacks[t.toString()]=[]),this._onCallbacks[t.toString()]||(this._onCallbacks[t.toString()]=[]);var s=this._exitCallbacks[this.currentState.toString()].reduce((function(n,s){return n&&s.call(i,t)}),!0),r=this._enterCallbacks[t.toString()].reduce((function(t,s){return t&&s.call(i,i.currentState,n)}),!0);if(s&&r){var a=this.currentState;this.currentState=t,this._onCallbacks[this.currentState.toString()].forEach((function(t){t.call(i,a,n)})),this.onTransition(a,t)}},t}();n.FiniteStateMachine=c,n.DefaultResetOptions={runCallbacks:!1},t("default",s.exports),s.exports.__esModule,s.exports.DefaultResetOptions,s.exports.FiniteStateMachine,s.exports.TransitionFunction,s.exports.Transitions}),{})}}}));

System.register("chunks:///_virtual/fsm.min.mjs_cjs=&original=.cjs",["./fsm.min.cjs","./cjs-loader.mjs"],(function(e,t){var s,r;return{setters:[function(t){s=t.__cjsMetaURL;var r={};r.__cjsMetaURL=t.__cjsMetaURL,r.default=t.default,e(r)},function(e){r=e.default}],execute:function(){s||r.throwInvalidWrapper("./fsm.min.cjs",t.meta.url),r.require(s)}}}));

System.register("chunks:///_virtual/FSMProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./GameState.ts","./WaitState.ts","./SignalSchedule.ts","./Definition.ts","./LoadState.ts","./InitState.ts","./NGSpinState.ts","./FeaturePlayState.ts","./RemoveState.ts","./MultipleHandleState.ts","./NGShowWinState.ts","./NGCompleteState.ts","./FGTriggerState.ts","./FGWaitState.ts","./FGSpinState.ts","./FGFeaturePlayState.ts","./FGRemoveState.ts","./FGMultipleHandleState.ts","./FGShowWinState.ts","./FGCompleteState.ts","./Proxy.ts"],(function(t){var e,i,n,s,o,a,f,m,S,l,r,u,h,F,G,c,p,d,w,W,v,y,g;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.GameState},function(t){s=t.WaitState},function(t){o=t.SignalSchedule},function(t){a=t.SignalType},function(t){f=t.LoadState},function(t){m=t.InitState},function(t){S=t.NGSpinState},function(t){l=t.FeaturePlayState},function(t){r=t.RemoveState},function(t){u=t.MultipleHandleState},function(t){h=t.NGShowWinState},function(t){F=t.NGCompleteState},function(t){G=t.FGTriggerState},function(t){c=t.FGWaitState},function(t){p=t.FGSpinState},function(t){d=t.FGFeaturePlayState},function(t){w=t.FGRemoveState},function(t){W=t.FGMultipleHandleState},function(t){v=t.FGShowWinState},function(t){y=t.FGCompleteState},function(t){g=t.Proxy}],execute:function(){i._RF.push({},"2c0f2ISBOZDqYydM1s3PHOZ","FSMProxy",void 0),t("FSMProxy",function(t){function i(e){var n;return(n=t.call(this,i.NAME)||this).fsm=null,n._fsmEvent=null,n.fsmState=new Map,n.fsm=e.fsm,n._fsmEvent=e.fsmEvent.bind(e),n}e(i,t);var g=i.prototype;return g.onRegister=function(){this.initFsm(),this.fsmBind(),this.initSignal()},g.fsmEvent=function(t,e){return this._fsmEvent(t,e)},g.initFsm=function(){this.fsm.from(n.None).to(n.Load),this.fsm.from(n.Load).to(n.Init),this.fsm.from(n.Init).to(n.Wait),this.fsm.from(n.Wait).to(n.NGSpin),this.fsm.from(n.NGSpin).to(n.FeaturePlay),this.fsm.from(n.FeaturePlay).to(n.Remove),this.fsm.from(n.FeaturePlay).to(n.NGComplete),this.fsm.from(n.Remove).to(n.MultipleHandle),this.fsm.from(n.Remove).to(n.NGShowWin),this.fsm.from(n.MultipleHandle).to(n.NGShowWin),this.fsm.from(n.NGShowWin).to(n.NGComplete),this.fsm.from(n.NGComplete).to(n.Wait),this.fsm.from(n.FeaturePlay).to(n.FGTrigger),this.fsm.from(n.FGTrigger).to(n.FGWait),this.fsm.from(n.FGWait).to(n.FGSpin),this.fsm.from(n.FGSpin).to(n.FGFeaturePlay),this.fsm.from(n.FGFeaturePlay).to(n.FGRemove),this.fsm.from(n.FGFeaturePlay).to(n.FGShowWin),this.fsm.from(n.FGFeaturePlay).to(n.FGWait),this.fsm.from(n.FGRemove).to(n.FGMultipleHandle),this.fsm.from(n.FGRemove).to(n.FGShowWin),this.fsm.from(n.FGRemove).to(n.FGWait),this.fsm.from(n.FGMultipleHandle).to(n.FGShowWin),this.fsm.from(n.FGMultipleHandle).to(n.FGWait),this.fsm.from(n.FGShowWin).to(n.FGComplete),this.fsm.from(n.FGComplete).to(n.Wait),this.fsmState.set(n.Load,new f),this.fsmState.set(n.Init,new m),this.fsmState.set(n.Wait,new s),this.fsmState.set(n.NGSpin,new S),this.fsmState.set(n.FeaturePlay,new l),this.fsmState.set(n.Remove,new r),this.fsmState.set(n.MultipleHandle,new u),this.fsmState.set(n.NGShowWin,new h),this.fsmState.set(n.NGComplete,new F),this.fsmState.set(n.FGTrigger,new G),this.fsmState.set(n.FGWait,new c),this.fsmState.set(n.FGSpin,new p),this.fsmState.set(n.FGFeaturePlay,new d),this.fsmState.set(n.FGRemove,new w),this.fsmState.set(n.FGMultipleHandle,new W),this.fsmState.set(n.FGShowWin,new v),this.fsmState.set(n.FGComplete,new y)},g.fsmBind=function(){var t=this;this.fsmState.forEach((function(e,i){t.fsm.onEnter(i,e.onEnter.bind(e)),t.fsm.on(i,e.on.bind(e)),t.fsm.onExit(i,e.onExit.bind(e))}))},g.initSignal=function(){var t=this;o.IsOpenLog=!0,o.SetKeys=a,o.addScheduleComplete=function(){var e=t.fsm.currentState;t.fsmState.get(e)&&t.fsmState.get(e).call()}},i}(g)).NAME="FSMProxy",i._RF.pop()}}}));

System.register("chunks:///_virtual/GameFacade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiProcessCommand.ts","./StartCommand.ts","./SpinCommand.ts","./index.ts","./LoadCommand.ts","./InitCommand.ts","./AssetsSavedCommand.ts","./RemoveStateCommand.ts","./MultipleHandleStateCommand.ts","./WaitStateCommand.ts","./FGRemoveStateCommand.ts","./FGTriggerStateCommand.ts","./FGMultipleHandleStateCommand.ts","./NGSpinStateCommand.ts","./Facade.ts"],(function(t){var n,e,a,m,i,o,s,r,d,u,S,C,c,l,f,h;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.MultiProcessCommand},function(t){m=t.StartCommand},function(t){i=t.SpinCommand},null,function(t){o=t.LoadCommand},function(t){s=t.InitCommand},function(t){r=t.AssetsSavedCommand},function(t){d=t.RemoveStateCommand},function(t){u=t.MultipleHandleStateCommand},function(t){S=t.WaitStateCommand},function(t){C=t.FGRemoveStateCommand},function(t){c=t.FGTriggerStateCommand},function(t){l=t.FGMultipleHandleStateCommand},function(t){f=t.NGSpinStateCommand},function(t){h=t.Facade}],execute:function(){e._RF.push({},"bc05fGh5cxAy5Y2KMdxblMT","GameFacade",void 0);var E=t("STARTUP","startup"),T=t("MULTIPROCESS","multiprocess"),g=t("GameFacade",function(t){function e(){return t.apply(this,arguments)||this}n(e,t),e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance};var h=e.prototype;return h.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(E,this.startCommand),this.registerCommand(e.ASSETS_SAVED,this.assetsSavedCommand),this.registerCommand(e.INIT,this.initCommand),this.registerCommand(e.WAIT,this.waitStateCommand),this.registerCommand(e.NGSPIN,this.ngSpinStateCommand),this.registerCommand(e.REMOVE,this.removeStateCommand),this.registerCommand(e.FGTRIGGER,this.fgTriggerStateCommand),this.registerCommand(e.FGREMOVE,this.fgRemoveStateCommand),this.registerCommand(e.MULTIPLE_HANDLE,this.multipleHandleStateCommand),this.registerCommand(e.FGMULTIPLE_HANDLE,this.fgMultipleHandleStateCommand),this.registerCommand(e.START_SPIN,this.spinCommand)},h.startCommand=function(){return new m},h.assetsSavedCommand=function(){return new r},h.loadCommand=function(){return new o},h.initCommand=function(){return new s},h.waitStateCommand=function(){return new S},h.ngSpinStateCommand=function(){return new f},h.removeStateCommand=function(){return new d},h.fgTriggerStateCommand=function(){return new c},h.fgRemoveStateCommand=function(){return new C},h.multipleHandleStateCommand=function(){return new u},h.fgMultipleHandleStateCommand=function(){return new l},h.multiProcessCommand=function(){return new a},h.spinCommand=function(){return new i},h.startup=function(t){this.sendNotification(E,t)},h.multiProcess=function(t){this.sendNotification(T,this)},e}(h));g.START_SPIN="START_SPIN",g.ASSETS_SAVED="ASSETS_SAVED",g.LOAD="LOAD",g.INIT="INIT",g.WAIT="WAIT",g.NGSPIN="NGSPIN",g.REMOVE="REMOVE",g.FGTRIGGER="FGTRIGGER",g.FGREMOVE="FGREMOVE",g.MULTIPLE_HANDLE="MULTIPLE_HANDLE",g.FGMULTIPLE_HANDLE="FGMULTIPLE_HANDLE",e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./MultipleProxy.ts","./Mediator.ts"],(function(e){var t,r,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},null,function(e){o=e.MultipleProxy},function(e){l=e.Mediator}],execute:function(){r._RF.push({},"ebb4fJ9WxBALbr2c+fIiHCp","GameMediator",void 0),e("GameMediator",function(e){function r(t){var o;return(o=e.call(this,r.NAME,t)||this).reelControl=null,o.reelBars=null,o.reelControl=t.reelControl,o.reelBars=t.reelControl.reelBars,o}t(r,e);var l=r.prototype;return l.onRegister=function(){},l.listNotificationInterests=function(){return["SET_REELBAR","SET_ASSETS","SPIN_OUT","SPIN_IN","SET_REMOVE_INFO","SAVED_SYMBOL_POS","SET_MULTIPLE_TEXT","SEARCH_MULTIPLE_SYMBOL","SAVED_MULTIPLE_SYMBOL","RESET_REEL"]},l.handleNotification=function(e){switch(e.name){case"SET_REELBAR":var t=e.body;this.reelControl.SetBaseReelData=t;break;case"SET_ASSETS":var r=e.body;this.reelControl.SetAssets=r;break;case"SPIN_OUT":var l=e.body;this.reelControl.spinOut(l);break;case"SPIN_IN":var i=e.body;this.reelControl.spinIn(i);break;case"SET_MULTIPLE_TEXT":var a=e.body;this.reelControl.updateMultipleText(a);break;case"SET_REMOVE_INFO":var n=e.body;this.reelControl.SetRemoveSymbolRule=n;break;case"SAVED_SYMBOL_POS":var s=this.reelControl.GetSymbolWorldPosition;this.sendNotification("SET_SYMBOL_POS",s);break;case"SEARCH_MULTIPLE_SYMBOL":var S=this.reelControl.searchMultipleSymbol();this.facade.retrieveProxy(o.NAME).SetMultipleSymbol=S;break;case"SAVED_MULTIPLE_SYMBOL":var E=e.body;this.reelControl.SetMultipleSymbolPos=E;break;case"RESET_REEL":this.reelControl.reset()}},r}(l)).NAME="GameMediator",r._RF.pop()}}}));

System.register("chunks:///_virtual/GameRule.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,i,r,s,l,c,a,u,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.Color,a=e.Graphics,u=e.UITransform,h=e.Component}],execute:function(){var p,f,v,C,d;r._RF.push({},"2048b0JPSxIoLFjteOGE2eb","GameRule",void 0);var T=s.ccclass,m=s.property;e("GameRule",(p=T("GameRule"),f=m(l),p((d=o((C=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,n(o,"close",d,i(o)),o}t(o,e);var r=o.prototype;return r.onLoad=function(){this.drawCloseButton(new c("#844200")),this.close.on(l.EventType.TOUCH_START,this.onClose,this),this.close.on(l.EventType.MOUSE_ENTER,this.onCloseEnter,this),this.close.on(l.EventType.MOUSE_LEAVE,this.onCloseLeave,this)},r.start=function(){},r.onClose=function(){this.node.active=!1},r.onCloseEnter=function(){this.drawCloseButton(new c("#642100"))},r.onCloseLeave=function(){this.drawCloseButton(new c("#844200"))},r.drawCloseButton=function(e){var o=this.close.getComponent(a),t=this.close.getComponent(u).contentSize.width/2;o.clear(),o.moveTo(-t,t),o.lineTo(t,-t),o.moveTo(t,t),o.lineTo(-t,-t),o.lineWidth=5,o.strokeColor=e,o.stroke()},r.update=function(e){},o}(h)).prototype,"close",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFacade.ts","./GameState.ts","./FSMProxy.ts","./ReelControl.ts"],(function(e){var t,n,o,r,i,a,s,l,c,u,f,h,m,p,v,y,C,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.NodeEventType,f=e.Component,h=e.Button,m=e.tween,p=e.Vec3},function(e){v=e.GameFacade},function(e){y=e.GameState},function(e){C=e.FSMProxy},function(e){d=e.ReelControl}],execute:function(){var g,S,B,R,x;l._RF.push({},"9faa82meVVHD7v28QTZPeEO","GameScene",void 0);var w=c.ccclass,G=c.property;e("GameScene",(g=w("GameScene"),S=G(d),g((x=t((R=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"reelControl",x,r(t)),t.testButton=null,t.reelBar=null,t.fsm=null,t.symbol=null,t.mainIndex=0,t.multiplePos=[[],[5],[],[3]],t.totalRemovedCount=0,t}n(t,e);var l=t.prototype;return l.init=function(){this.reelControl.init()},l.start=function(){this.testButton=this.node.getChildByName("Test"),this.testButton.on(u.TOUCH_START,this.onTest,this),this.reelControl.reelBars[this.reelControl.reelBars.length-1].RollingCallBack=this.onReelRollingComplete.bind(this)},l.onRemove=function(){this.reelBar.removeSymbol()},l.onTest=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.testButton.getComponent(h).interactable=!1;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onShowFrameComplete=function(){this.totalRemovedCount++,this.totalRemovedCount},l.onNextMission=function(){},l.executeTween=function(){var e=a(s().mark((function e(){var t,n,o,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=s().mark((function e(n){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Promise((function(e){m(r.testButton).to(1,{scale:new p(1.1*n,1.1*n,0)}).call((function(){e(r.testButton)})).start()})),t.push(o);case 2:case"end":return e.stop()}}),e)})),o=0;case 3:if(!(o<5)){e.next=8;break}return e.delegateYield(n(o),"t0",5);case 5:o++,e.next=3;break;case 8:return e.next=10,Promise.all(t).then((function(){r.onNextMission()})).catch((function(e){console.error(e)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.onReelRollingComplete=function(){var e=v.getInstance().retrieveProxy(C.NAME);this.fsm.currentState==y.NGSpin?this.fsm.go(y.FeaturePlay,e.fsmEvent()):this.fsm.currentState==y.FGSpin&&this.fsm.go(y.FGFeaturePlay,e.fsmEvent())},l.onTestSignal=function(e){e.CallBack()},l.update=function(e){},i(t,[{key:"SetFSM",set:function(e){this.fsm=e}},{key:"GetReelControl",get:function(){return this.reelControl}},{key:"ReelBarInstance",get:function(){return this.reelBar}}]),t}(f)).prototype,"reelControl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=R))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"aef5cfwcztFx7TPG0hMLl2G","GameState",void 0);e("GameState",function(e){return e.None="",e.Load="Load",e.Init="Init",e[e.Wait=0]="Wait",e.NGBeforeSpin="NGBeforeSpin",e[e.NGSpin=1e3]="NGSpin",e.FeaturePlay="FeaturePlay",e.Remove="Remove",e.MultipleHandle="MultipleHandle",e.BeforeShowWin="BeforeShowWin",e[e.NGShowWin=1001]="NGShowWin",e[e.NGComplete=1002]="NGComplete",e.FGTrigger="FGTrigger",e.FGWait="FGWait",e.FGBeforeSpin="FGBeforeSpin",e.FGSpin="FGSpin",e.FGFeaturePlay="FGFeaturePlay",e.FGRemove="FGRemove",e.FGMultipleHandle="FGMultipleHandle",e.FGBeforeShowWin="FGBeforeShowWin",e.FGShowWin="FGShowWin",e.FGComplete="FGComplete",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/IButtonHandler.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c6b40PxrLZLX7JdYPt61P6i","IButtonHandler",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ICommand.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"b6787kzioVHObdLoSHSPIAo","ICommand",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IController.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"639c9BNdXFO9riJY+KzJCiK","IController",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IFacade.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"84f198Wvo1FsKDnmPBqUIYO","IFacade",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/IMediator.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"341c1x6KSdA967V5IB8AUCQ","IMediator",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IModel.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"876452hRvtBnLvLXqPczetG","IModel",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./Controller.ts","./Model.ts","./View.ts","./MacroCommand.ts","./SimpleCommand.ts","./Facade.ts","./Mediator.ts","./Notification.ts","./Notifier.ts","./Observer.ts","./Proxy.ts"],(function(o){var t;return{setters:[function(o){t=o.cclegacy},function(t){o("Controller",t.Controller)},function(t){o("Model",t.Model)},function(t){o("View",t.View)},function(t){o("MacroCommand",t.MacroCommand)},function(t){o("SimpleCommand",t.SimpleCommand)},function(t){o("Facade",t.Facade)},function(t){o("Mediator",t.Mediator)},function(t){o("Notification",t.Notification)},function(t){o("Notifier",t.Notifier)},function(t){o("Observer",t.Observer)},function(t){o("Proxy",t.Proxy)}],execute:function(){t._RF.push({},"aefe0MWo8VHir1m240aaNa1","index",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InitCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./BetProxy.ts","./SlotProxy.ts","./SimpleCommand.ts"],(function(t){var e,n,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},null,function(t){i=t.BetProxy},function(t){o=t.SlotProxy},function(t){r=t.SimpleCommand}],execute:function(){n._RF.push({},"5c01fj6EZ9JtpD8MWuPWpaZ","InitCommand",void 0);t("InitCommand",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.execute=function(t){var e=this.facade.retrieveProxy(o.NAME);this.facade.sendNotification("SET_REELBAR",e.GetBaseReelData);var n=this.facade.retrieveProxy(i.NAME);this.facade.sendNotification("SET_DEFAULT_BET",n.GetCurrentBet)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/InitState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./StateBase.ts","./GameState.ts"],(function(t){var n,e,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.FSMProxy},function(t){i=t.StateBase},function(t){r=t.GameState}],execute:function(){e._RF.push({},"ddb9dQFnPFNxLotttfRUUpD","InitState",void 0);t("InitState",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onEnter=function(t,n){return console.log("InitState onEnter"),!0},i.on=function(n,e){t.prototype.on.call(this,n,e),console.log("InitState on")},i.call=function(){console.log("動畫結束");var t=this.event.facade.retrieveProxy(o.NAME);this.event.fsm.go(r.Wait,t.fsmEvent())},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/INotification.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"4bae6GzHjFG2py71jXMRz33","INotification",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/INotifier.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b7f1dafkglMmI67tPmbNFwZ","INotifier",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IObserver.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"342fbsIXJVNPpzp1sJrwPLc","IObserver",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IProxy.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"70350oU1FFPGK7TSJ2i4QnG","IProxy",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"58194c6XoRKJ7jQgoqDubtL","IState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IView.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"1cc19HarNFBvbS1onVLkQzJ","IView",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./AssetsProxy.ts","./SimpleCommand.ts"],(function(n){var t,e,o,s;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},null,function(n){o=n.AssetsProxy},function(n){s=n.SimpleCommand}],execute:function(){e._RF.push({},"7966bhRX2xLZYDP6z4kuFVy","LoadCommand",void 0);n("LoadCommand",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.execute=function(n){var t=n.body;this.facade.registerProxy(new o(t))},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},null,function(e){o=e.Mediator}],execute:function(){n._RF.push({},"01efd8bc+xObLQkgDTbSbX4","LoadMediator",void 0),e("LoadMediator",function(e){function n(t){var o;return(o=e.call(this,n.NAME,t)||this).loadScene=null,o.loadScene=t,o}t(n,e);var o=n.prototype;return o.onRegister=function(){},o.listNotificationInterests=function(){return["UPDATE_PROGRESS","LOADING_END"]},o.handleNotification=function(e){var t=e.body;switch(e.name){case"UPDATE_PROGRESS":this.loadScene.updateLoadingBar(t.progress,t.msg);break;case"LOADING_END":this.loadScene.hide()}},n}(o)).NAME="LoadMediator",n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,o,r,i,a,s,c,l;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,s=n.Label,c=n.ProgressBar,l=n.Component}],execute:function(){var u,p,g,d,f;i._RF.push({},"ee39aZqUmBEj62rs+CY/+YY","LoadScene",void 0);var h=a.ccclass,L=a.property;n("LoadScene",(u=h("LoadScene"),p=L(s),u((f=e((d=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i))||this,o(e,"loadingMsg",f,r(e)),e.progressBar=null,e}t(e,n);var i=e.prototype;return i.onLoad=function(){this.progressBar=this.node.getComponent(c)},i.start=function(){},i.onLoading=function(n){n.CallBack()},i.onLoadingSetting=function(n){n.CallBack()},i.updateLoadingBar=function(n,e){this.progressBar.progress=n,this.loadingMsg.string=e},i.hide=function(){this.node.active=!1},i.update=function(n){},e}(l)).prototype,"loadingMsg",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFacade.ts","./FSMProxy.ts","./StateBase.ts","./GameState.ts","./Definition.ts","./AudioEngineControl.ts"],(function(n){var e,t,o,a,r,s,i,c,u,f,d,l,p,h,x;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime,a=n.assertThisInitialized},function(n){r=n.cclegacy,s=n.resources,i=n.SpriteFrame,c=n.AudioClip,u=n.dragonBones},function(n){f=n.GameFacade},function(n){d=n.FSMProxy},function(n){l=n.StateBase},function(n){p=n.GameState},function(n){h=n.SignalAction},function(n){x=n.AudioEngineControl}],execute:function(){r._RF.push({},"0e62803kbFDD41vtlnE6nEy","LoadState",void 0);n("LoadState",function(n){function r(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))||this).symbols=new Map,e.audioClips=new Map,e.dragonBones=new Map,e.dragonBonesAtlas=new Map,e.funcs=[e.loadSprites.bind(a(e)),e.loadAudio.bind(a(e)),e.loadDragonBones.bind(a(e)),e.loadDragonBonesAtlas.bind(a(e)),e.loadTest.bind(a(e))],e.funcsIdx=0,e}e(r,n);var l=r.prototype;return l.onEnter=function(n,e){return console.log("LoadState onEnter"),!0},l.on=function(){var e=t(o().mark((function e(t,a){var r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.prototype.on.call(this,t,a),console.log("LoadState on"),e.next=4,this.nextLoad("載入圖片",!0);case 4:console.log("完成所有資源載入"),r={symbols:this.symbols,audioClips:this.audioClips,dragonBones:this.dragonBones,dragonBonesAtlas:this.dragonBonesAtlas},a.facade.sendNotification(f.ASSETS_SAVED,r),s=a.facade.retrieveProxy(d.NAME),a.fsm.go(p.Init,s.fsmEvent(f.INIT,h.NG.Init));case 9:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),l.loadSprites=function(){var n=this;return new Promise((function(e){s.loadDir("/images/symbols",i,t(o().mark((function t(a,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}e(null),t.next=8;break;case 4:return r.forEach((function(e){n.symbols.set(e.name,e)})),t.next=7,n.nextLoad("載入音樂",!0);case 7:e(r);case 8:case"end":return t.stop()}}),t)}))))}))},l.loadAudio=function(){var n=this;return new Promise((function(e){s.loadDir("/audio",c,t(o().mark((function t(a,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}e(null),t.next=8;break;case 4:return r.forEach((function(e){x.getInstance().setAudioTask(e.name,e),n.audioClips.set(e.name,e)})),t.next=7,n.nextLoad("載入骨骼數據",!0);case 7:e(r);case 8:case"end":return t.stop()}}),t)}))))}))},l.loadDragonBones=function(){var n=this;return new Promise((function(e){s.loadDir("/animation",u.DragonBonesAsset,t(o().mark((function t(a,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}e(null),t.next=8;break;case 4:return r.forEach((function(e){n.dragonBones.set(e.name,e)})),t.next=7,n.nextLoad("載入圖集數據",!0);case 7:e(r);case 8:case"end":return t.stop()}}),t)}))))}))},l.loadDragonBonesAtlas=function(){var n=this;return new Promise((function(e){s.loadDir("/animation",u.DragonBonesAtlasAsset,t(o().mark((function t(a,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}e(null),t.next=8;break;case 4:return r.forEach((function(e){n.dragonBonesAtlas.set(e.name,e)})),t.next=7,n.nextLoad("載入測試",!0);case 7:e(r);case 8:case"end":return t.stop()}}),t)}))))}))},l.loadTest=function(){var n=this;return new Promise((function(e){setTimeout(t(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.nextLoad("",!1);case 2:e("success");case 3:case"end":return t.stop()}}),t)}))),1e3)}))},l.nextLoad=function(){var n=t(o().mark((function n(e,t){var a,r,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t&&(t=!1),console.log("準備載入:",e," 是否載入下一個資源:",t),!t){n.next=12;break}if(!(this.funcsIdx<this.funcs.length)){n.next=12;break}if(a=this.funcs[this.funcsIdx],this.funcsIdx++,!a){n.next=12;break}return r=this.funcsIdx/this.funcs.length,s={progress:r,msg:e},this.event.facade.sendNotification("UPDATE_PROGRESS",s),n.next=12,a();case 12:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),l.call=function(){console.log("動畫結束")},r}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/MacroCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SimpleCommand.ts"],(function(n){var o,t,i;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},function(n){i=n.SimpleCommand}],execute:function(){t._RF.push({},"7acc46OEeJMeLeknbJ9BKp2","MacroCommand",void 0);n("MacroCommand",function(n){function t(){var o;return(o=n.call(this)||this).subCommands=void 0,o.subCommands=[],o.initializeMacroCommand(),o}o(t,n);var i=t.prototype;return i.initializeMacroCommand=function(){},i.addSubCommand=function(n){this.subCommands.push(n)},i.execute=function(n){for(;this.subCommands.length>0;){var o=this.subCommands.shift(),t=null==o?void 0:o();t&&t.execute(n)}},t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Definition.ts","./GameFacade.ts","./GameScene.ts","./LoadScene.ts","./Main.ts","./TestPosition.ts","./BackgroundComponent.ts","./ButtonComponent.ts","./EffectComponent.ts","./EliminateScoreComponent.ts","./GameRule.ts","./MainInformationComponent.ts","./ReelBar.ts","./ReelControl.ts","./RunScore.ts","./Signal.ts","./Symbol.ts","./TransitionComponent.ts","./IButtonHandler.ts","./IState.ts","./GameState.ts","./StateBase.ts","./FGCompleteState.ts","./FGFeaturePlayState.ts","./FGMultipleHandleState.ts","./FGRemoveState.ts","./FGShowWinState.ts","./FGSpinState.ts","./FGTriggerState.ts","./FGWaitState.ts","./FeaturePlayState.ts","./InitState.ts","./LoadState.ts","./MultipleHandleState.ts","./NGBeforeSpinEnd.ts","./NGCompleteState.ts","./NGShowWinState.ts","./NGSpinState.ts","./RemoveState.ts","./WaitState.ts","./fsm.min.mjs_cjs=&original=.cjs","./AssetsSavedCommand.ts","./FGMultipleHandleStateCommand.ts","./FGRemoveStateCommand.ts","./FGTriggerStateCommand.ts","./InitCommand.ts","./LoadCommand.ts","./MultiProcessCommand.ts","./MultipleHandleStateCommand.ts","./NGSpinStateCommand.ts","./RemoveStateCommand.ts","./SpinCommand.ts","./StartCommand.ts","./WaitStateCommand.ts","./AssetsProxy.ts","./BetProxy.ts","./FSMProxy.ts","./MultipleProxy.ts","./ScoreProxy.ts","./SlotProxy.ts","./BackgroundMediator.ts","./ButtonMediator.ts","./EffectMediator.ts","./EliminateScoreMediator.ts","./GameMediator.ts","./LoadMediator.ts","./MainInformationMediator.ts","./ReelBarMediator.ts","./TransitionMediator.ts","./Controller.ts","./Model.ts","./View.ts","./index.ts","./ICommand.ts","./IController.ts","./IFacade.ts","./IMediator.ts","./IModel.ts","./INotification.ts","./INotifier.ts","./IObserver.ts","./IProxy.ts","./IView.ts","./MacroCommand.ts","./SimpleCommand.ts","./Facade.ts","./Mediator.ts","./Notification.ts","./Notifier.ts","./Observer.ts","./Proxy.ts","./AudioEngineControl.ts","./NodePoolManager.ts","./SignalManager.ts","./SignalSchedule.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFacade.ts","./fsm.min.mjs_cjs=&original=.cjs","./GameState.ts","./Definition.ts","./GameScene.ts","./LoadScene.ts","./SignalManager.ts","./ButtonComponent.ts","./BackgroundComponent.ts","./EffectComponent.ts","./EliminateScoreComponent.ts","./MainInformationComponent.ts","./BetProxy.ts","./TransitionComponent.ts","./AudioEngineControl.ts","./SlotProxy.ts","./GameRule.ts","./fsm.min.cjs"],(function(n){var e,t,i,o,a,r,c,u,l,s,m,f,p,d,g,S,h,b,C,y,E,v,G,M,N,A;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Component},function(n){u=n.GameFacade},null,function(n){l=n.GameState},function(n){s=n.SignalType,m=n.SoundList,f=n.SignalAction},function(n){p=n.GameScene},function(n){d=n.LoadScene},function(n){g=n.AddSignal},function(n){S=n.ButtonComponent},function(n){h=n.BackgroundComponent},function(n){b=n.EffectComponent},function(n){C=n.EliminateScoreComponent},function(n){y=n.MainInformationComponent},function(n){E=n.BetProxy},function(n){v=n.TransitionComponent},function(n){G=n.AudioEngineControl},function(n){M=n.SlotProxy},function(n){N=n.GameRule},function(n){A=n.default}],execute:function(){var F,B,P,I,w,R,_,z,L,T,D,O,k,x,j,U,H,V,Q,Y,q;a._RF.push({},"4943ckt621Bz4IQRfTwUidP","Main",void 0);var J=r.ccclass,K=r.property;n("Main",(F=J("Main"),B=K(p),P=K(d),I=K(S),w=K(h),R=K(b),_=K(C),z=K(y),L=K(v),T=K(N),F((k=e((O=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"gameScene",k,o(e)),i(e,"loadScene",x,o(e)),i(e,"buttonComponent",j,o(e)),i(e,"backgroundComponent",U,o(e)),i(e,"effectComponent",H,o(e)),i(e,"eliminateScoreComponent",V,o(e)),i(e,"mainInformationComponent",Q,o(e)),i(e,"transitionComponent",Y,o(e)),i(e,"gameRule",q,o(e)),e.gameFacade=null,e.fsm=new A.FiniteStateMachine(l.None,!0),e}t(e,n);var a=e.prototype;return a.onLoad=function(){this.gameFacade=u.getInstance(),this.gameScene.node.active=!1,g(s.EnableGameScene,this.onEnableGameScene.bind(this)),g(s.HideLoading,this.onHideLoading.bind(this)),g(s.GotoNG,this.onShowNGScene.bind(this))},a.start=function(){this.init()},a.fsmEvent=function(n,e){var t={};return t.fsm=this.fsm,t.command=n,t.signal=e,t.facade=this.gameFacade,t},a.init=function(){this.gameRule.node.active=!1,this.gameScene.SetFSM=this.fsm,this.buttonComponent.init(this),this.gameFacade.startup(this),this.loadScene.node.active=!0,this.fsm.go(l.Load,this.fsmEvent())},a.onEnableGameScene=function(n){this.gameScene.node.active=!0,n.CallBack()},a.onHideLoading=function(n){this.loadScene.node.active=!1,n.CallBack()},a.onShowNGScene=function(n){G.getInstance().playMusic(m.NGBGM,!0,0,1,null),this.gameScene.init(),this.gameFacade.sendNotification("SAVED_SYMBOL_POS"),this.gameFacade.sendNotification("SAVED_ELIMINATESCORE_POS"),n.CallBack()},a.onSpin=function(){this.fsm.go(l.NGSpin,this.fsmEvent(u.NGSPIN,f.NG.SpinStart))},a.onStop=function(){this.gameScene.GetReelControl.spinStop()},a.onRaise=function(){var n=this.gameFacade.retrieveProxy(E.NAME);this.mainInformationComponent.updateTotalBet(n.raiseBet())},a.onReduce=function(){var n=this.gameFacade.retrieveProxy(E.NAME);this.mainInformationComponent.updateTotalBet(n.reduceBet())},a.onAutoOn=function(){this.gameFacade.retrieveProxy(M.NAME).SetAutoMode=!0,this.gameFacade.sendNotification("UPDATE_AUTO_MODE",!0),this.fsm.go(l.NGSpin,this.fsmEvent(u.NGSPIN,f.NG.SpinStart))},a.onAutoOff=function(){this.gameFacade.retrieveProxy(M.NAME).SetAutoMode=!1,this.gameFacade.sendNotification("UPDATE_AUTO_MODE",!1)},a.onInfo=function(){this.gameRule.node.active||(this.gameRule.node.active=!0)},a.update=function(n){},e}(c)).prototype,"gameScene",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(O.prototype,"loadScene",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(O.prototype,"buttonComponent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(O.prototype,"backgroundComponent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(O.prototype,"effectComponent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(O.prototype,"eliminateScoreComponent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(O.prototype,"mainInformationComponent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(O.prototype,"transitionComponent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(O.prototype,"gameRule",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=O))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainInformationComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SignalManager.ts","./Definition.ts","./RunScore.ts","./AudioEngineControl.ts"],(function(e){var n,t,i,o,r,u,a,c,l,s,b,d,m,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){u=e.cclegacy,a=e._decorator,c=e.Node,l=e.Label,s=e.Component},function(e){b=e.AddSignal},function(e){d=e.SignalType,m=e.SoundList},function(e){p=e.RunScore},function(e){f=e.AudioEngineControl}],execute:function(){var g,h,S,y,w,N,R,C,v,W,A,B,_,I,T;u._RF.push({},"ae44eXOAbFJkaOyKbWIV4sP","MainInformationComponent",void 0);var z=a.ccclass,k=a.property;e("MainInformationComponent",(g=z("MainInformationComponent"),h=k(c),S=k(c),y=k(c),w=k(l),N=k(l),R=k(l),g((W=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=e.call.apply(e,[this].concat(r))||this,i(n,"credit",W,o(n)),i(n,"win",A,o(n)),i(n,"totalBet",B,o(n)),i(n,"creditNumber",_,o(n)),i(n,"winNumber",I,o(n)),i(n,"totalBetNumber",T,o(n)),n._removeSymbolRule=null,n._scoreToShow=0,n}t(n,e);var u=n.prototype;return u.onLoad=function(){var e=this.winNumber.node.getComponent(p);e.isDecimal=!0,e.isDecimalFixed=!0,e.setPlaces=2,e.init(),b(d.RunWinScore,this.onRunWinScore.bind(this)),b(d.UpdateCredit,this.onUpdateCredit.bind(this)),b(d.ResetWinScore,this.onResetWinScore.bind(this))},u.onRunWinScore=function(e){var n=this;f.getInstance().playAudio(m.RunWinScore,1);var t=this.winNumber.node.getComponent(p),i=Number(this.winNumber.string),o=this._scoreToShow;t.runScoreTime(1,o,i,(function(){f.getInstance().stopAudio(),n.scheduleOnce(n.playAudioRunWinScoreEnd,0),n.winNumber.string=Number(o).toFixed(2).toString(),e.CallBack()}))},u.playAudioRunWinScoreEnd=function(){f.getInstance().playAudio(m.RunWinScoreEnd,1)},u.onUpdateCredit=function(e){var n=Number(this.creditNumber.string)+this._scoreToShow;this.creditNumber.string=n.toFixed(2).toString(),e.CallBack()},u.updateCredit=function(e){var n=Number(this.creditNumber.string)-e;this.creditNumber.string=n.toFixed(2).toString()},u.onResetWinScore=function(e){this.winNumber.string="0.00",e.CallBack()},u.updateTotalBet=function(e){this.totalBetNumber.string=e.toString()},u.start=function(){},u.update=function(e){},r(n,[{key:"SetRemoveSymbolRule",set:function(e){this._removeSymbolRule=e}},{key:"SetScoreToShow",set:function(e){this._scoreToShow=e}}]),n}(s)).prototype,"credit",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(v.prototype,"win",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(v.prototype,"totalBet",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(v.prototype,"creditNumber",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(v.prototype,"winNumber",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(v.prototype,"totalBetNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/MainInformationMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(n){var o,t,i;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},null,function(n){i=n.Mediator}],execute:function(){t._RF.push({},"6c094u2tztHmoYH0yxH7hG/","MainInformationMediator",void 0),n("MainInformationMediator",function(n){function t(o){var i;return(i=n.call(this,t.NAME,o)||this).mainInformationComponent=null,i.mainInformationComponent=o,i}o(t,n);var i=t.prototype;return i.onRegister=function(){},i.listNotificationInterests=function(){return["SET_REMOVE_INFO","SET_SCORE_VALUE","SET_SCORE_VALUE_MainInformationComponent","SET_DEFAULT_BET","UPDATE_CREDIT"]},i.handleNotification=function(n){switch(n.name){case"SET_REMOVE_INFO":this.mainInformationComponent.SetRemoveSymbolRule=n.body;break;case"SET_SCORE_VALUE_MainInformationComponent":case"SET_SCORE_VALUE":this.mainInformationComponent.SetScoreToShow=n.body;break;case"SET_DEFAULT_BET":this.mainInformationComponent.updateTotalBet(n.body);break;case"UPDATE_CREDIT":this.mainInformationComponent.updateCredit(n.body)}},t}(i)).NAME="MainInformationMediator",t._RF.pop()}}}));

System.register("chunks:///_virtual/Mediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Notifier.ts"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){o=t.Notifier}],execute:function(){i._RF.push({},"0b313B8q11Cl7y0EfmlYsc8","Mediator",void 0),t("Mediator",function(t){function i(n,e){var o;return(o=t.call(this)||this)._name=void 0,o._viewComponent=void 0,o._name=n||i.NAME,o._viewComponent=e,o}n(i,t);var o=i.prototype;return o.onRegister=function(){},o.onRemove=function(){},o.listNotificationInterests=function(){return[]},o.handleNotification=function(t){},e(i,[{key:"name",get:function(){return this._name}},{key:"viewComponent",get:function(){return this._viewComponent},set:function(t){this._viewComponent=t}}]),i}(o)).NAME="Mediator",i._RF.pop()}}}));

System.register("chunks:///_virtual/Model.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"b28f4qnLlNOEYJp/dpVtkvI","Model",void 0);var e=n("Model",function(){function n(){if(this.proxyMap=void 0,null!=n.instance)throw Error(n.SINGLETON_MSG);n.instance=this,this.proxyMap={},this.initializeModel()}var t=n.prototype;return t.initializeModel=function(){},n.getInstance=function(t){return null==n.instance&&(n.instance=t()),n.instance},t.registerProxy=function(n){this.proxyMap[n.name]=n,n.onRegister()},t.retrieveProxy=function(n){return this.proxyMap[n]||null},t.hasProxy=function(n){return null!=this.proxyMap[n]},t.removeProxy=function(n){var t=this.proxyMap[n];return t?(delete this.proxyMap[n],t.onRemove(),t):null},n}());e.SINGLETON_MSG="Model Singleton already constructed!",e.instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/MultipleHandleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./StateBase.ts","./GameState.ts","./MultipleProxy.ts","./GameFacade.ts","./Definition.ts"],(function(t){var e,n,o,l,i,a,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.FSMProxy},function(t){l=t.StateBase},function(t){i=t.GameState},function(t){a=t.MultipleProxy},function(t){u=t.GameFacade},function(t){s=t.SignalAction}],execute:function(){n._RF.push({},"d83b180dIBAe4mVem9PsibY","MultipleHandleState",void 0);t("MultipleHandleState",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var l=n.prototype;return l.onEnter=function(t,e){return console.log("MultipleHandleState onEnter"),!0},l.on=function(e,n){t.prototype.on.call(this,e,n),console.log("MultipleHandleState on")},l.call=function(){console.log("動畫結束");var t=this.event.facade.retrieveProxy(o.NAME);this.event.facade.retrieveProxy(a.NAME).hasNextMultipleSymbol()?this.event.fsm.go(i.MultipleHandle,t.fsmEvent(u.MULTIPLE_HANDLE,s.NG.MultipleHandle)):this.event.fsm.go(i.NGShowWin,t.fsmEvent(null,s.NG.Win))},n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/MultipleHandleStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./MultipleProxy.ts","./ScoreProxy.ts","./SimpleCommand.ts"],(function(t){var e,i,n,o,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},null,function(t){n=t.MultipleProxy},function(t){o=t.ScoreProxy},function(t){l=t.SimpleCommand}],execute:function(){i._RF.push({},"610e16chK1EKKKhOIoMRDsL","MultipleHandleStateCommand",void 0);t("MultipleHandleStateCommand",function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.execute=function(t){var e=this.facade.retrieveProxy(n.NAME).getCurrentMultiplePos();this.facade.sendNotification("SAVED_MULTIPLE_SYMBOL",e);var i=this.facade.retrieveProxy(o.NAME),l=e[0].multiplText.substring(0,e[0].multiplText.length-1);i.SetMultiple=Number(l),this.facade.sendNotification("SET_MULTIPLE_VALUE",i.GetMultiple),this.facade.sendNotification("SET_SCORE_VALUE",i.GetScore)},i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/MultipleProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Proxy.ts"],(function(t){var e,l,i,n;return{setters:[function(t){e=t.inheritsLoose,l=t.createClass},function(t){i=t.cclegacy},null,function(t){n=t.Proxy}],execute:function(){i._RF.push({},"0028br6GFRLgLiv06nRFFgx","MultipleProxy",void 0),t("MultipleProxy",function(t){function i(){var e;return(e=t.call(this,i.NAME)||this)._multipleSymbolPos=void 0,e.mainIndex=0,e.handleMutipleIndexList=[],e}e(i,t);var n=i.prototype;return n.onRegister=function(){},n.getCurrentMultiplePos=function(){var t=this.handleMutipleIndexList.shift();return this._multipleSymbolPos[t]},n.hasNextMultipleSymbol=function(){return this.handleMutipleIndexList.length>0},l(i,[{key:"SetMultipleSymbol",set:function(t){this._multipleSymbolPos=t;for(var e=0;e<this._multipleSymbolPos.length;e++)this._multipleSymbolPos[e].length>0&&this.handleMutipleIndexList.push(e)}}]),i}(n)).NAME="MultipleProxy",i._RF.pop()}}}));

System.register("chunks:///_virtual/MultiProcessCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFacade.ts","./index.ts","./MacroCommand.ts","./SimpleCommand.ts","./Proxy.ts"],(function(n){var o,t,e,r,i,c;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy},function(n){e=n.GameFacade},null,function(n){r=n.MacroCommand},function(n){i=n.SimpleCommand},function(n){c=n.Proxy}],execute:function(){t._RF.push({},"8b651y0SgxD0qZRCEkZ01jS","MultiProcessCommand",void 0);n("MultiProcessCommand",function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.initializeMacroCommand=function(){this.addSubCommand(this.modelPrepCommand),this.addSubCommand(this.viewPrepCommand)},e.modelPrepCommand=function(){return new u},e.viewPrepCommand=function(){return new s},e.spinPrepCommand=function(){return new a},t}(r));var u=n("ModelPrepCommand",function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.execute=function(n){var o=e.getInstance();o.registerProxy(new p("SearchProxy",{key:"1000",callback:function(){console.log("function 1000")}})),o.registerProxy(new m),o.registerProxy(new l("SpinProxy",{credit:1e3})),console.log("ModelPrepCommand => ",n)},t}(i)),s=n("ViewPrepCommand",function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.execute=function(n){e.getInstance();console.log("ViewPrepCommand => ",n)},t}(i)),a=n("SpinCommand",function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.execute=function(n){e.getInstance().retrieveProxy("SpinProxy").canSpin()},t}(i)),p=n("SearchProxy",function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.onRegister=function(){console.log("onRegister SearchProxy")},e.searchFile=function(){return"Not Found!"},t}(c)),m=n("PrefsProxy",function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.onRegister=function(){console.log("onRegister PrefsProxy")},t}(c)),l=n("SpinProxy",function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.onRegister=function(){console.log("onRegister SpinProxy")},e.canSpin=function(){this.sendNotification("B")},t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/NGBeforeSpinEnd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(n){var o,e,t;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy},function(n){t=n.StateBase}],execute:function(){e._RF.push({},"73add7iaB5OJ6QHngMsKDLU","NGBeforeSpinEnd",void 0);n("NGBeforeSpinEnd",function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var t=e.prototype;return t.onEnter=function(n,o){return console.log("NGBeforeSpinEnd onEnter"),!0},t.on=function(o,e){n.prototype.on.call(this,o,e),console.log("NGBeforeSpinEnd on")},t.call=function(){console.log("動畫結束")},e}(t));e._RF.pop()}}}));

System.register("chunks:///_virtual/NGCompleteState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts"],(function(t){var e,o,n,a,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.FSMProxy},function(t){a=t.StateBase},function(t){c=t.GameState},function(t){r=t.GameFacade}],execute:function(){o._RF.push({},"07169pKWMVITaREbVAA7/a6","NGCompleteState",void 0);t("NGCompleteState",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var a=o.prototype;return a.onEnter=function(t,e){return console.log("NGCompleteState onEnter"),!0},a.on=function(e,o){t.prototype.on.call(this,e,o),console.log("NGCompleteState on")},a.call=function(){console.log("動畫結束");var t=this.event.facade.retrieveProxy(n.NAME);this.event.fsm.go(c.Wait,t.fsmEvent(r.WAIT))},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/NGShowWinState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./StateBase.ts","./GameState.ts","./Definition.ts"],(function(t){var n,o,e,i,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.FSMProxy},function(t){i=t.StateBase},function(t){c=t.GameState},function(t){r=t.SignalAction}],execute:function(){o._RF.push({},"4877dYiEcJMvbELF+D42pYF","NGShowWinState",void 0);t("NGShowWinState",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.onEnter=function(t,n){return console.log("NGShowWinState onEnter"),!0},i.on=function(n,o){t.prototype.on.call(this,n,o),console.log("NGShowWinState on");var i=o.facade.retrieveProxy(e.NAME);o.fsm.go(c.NGComplete,i.fsmEvent(null,r.NG.AllComplete))},i.call=function(){console.log("動畫結束")},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/NGSpinState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotProxy.ts","./StateBase.ts"],(function(t){var e,n,i,o,a,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){a=t.SlotProxy},function(t){s=t.StateBase}],execute:function(){o._RF.push({},"67728mREZRG7agMtm5lmpEV","NGSpinState",void 0);t("NGSpinState",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var s=o.prototype;return s.onEnter=function(t,e){return console.log("NGSpinState onEnter"),!0},s.on=function(e,n){t.prototype.on.call(this,e,n),console.log("NGSpinState on"),n.facade.sendNotification("SPIN_OUT",this.onGainSpinResult.bind(this))},s.call=function(){console.log("動畫結束")},s.onGainSpinResult=function(){var t=n(i().mark((function t(){var e,n,o,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.event.facade.sendNotification("RESET_REEL"),e=this.event.facade.retrieveProxy(a.NAME),n=e.GetSpinReelData,!e.hasMultipInfoBeforeRemove){t.next=13;break}return this.event.facade.sendNotification("LUBU_FIRE"),this.event.facade.sendNotification("SET_MULTIPLE_TEXT",n.multipleInfo),t.next=8,e.getSpinUpdateReelData();case 8:o=t.sent,this.event.facade.sendNotification("SPIN_IN",o),this.event.facade.sendNotification("FIRE_BALL",n.multipleInfo.pos),t.next=17;break;case 13:return t.next=15,e.getSpinUpdateReelData();case 15:s=t.sent,this.event.facade.sendNotification("SPIN_IN",s);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onLubuFireComplete=function(){},o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/NGSpinStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./BetProxy.ts","./SimpleCommand.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},null,function(t){i=t.BetProxy},function(t){o=t.SimpleCommand}],execute:function(){n._RF.push({},"4e021mdqddIHKTtBxqZofOz","NGSpinStateCommand",void 0);t("NGSpinStateCommand",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.execute=function(t){var e=this.facade.retrieveProxy(i.NAME);this.sendNotification("UPDATE_CREDIT",e.GetCurrentBet)},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/NodePoolManager.ts",["cc"],(function(n){var o,e,t;return{setters:[function(n){o=n.cclegacy,e=n.NodePool,t=n.instantiate}],execute:function(){o._RF.push({},"7cb28VL6+BC652ytPjWrwwJ","NodePoolManager",void 0),n("NodePoolManager",function(){function n(){this._nodePoolMap=new Map}n.getNodePoolMgr=function(){return null==this._instance&&(this._instance=new n),this._instance};var o=n.prototype;return o.checkNodePool=function(n){var o=null;return this._nodePoolMap.has(n)?o=this._nodePoolMap.get(n):(o=new e,this._nodePoolMap.set(n,o)),o},o.createNode=function(n,o,e){if(null!=n&&null!=e&&null!=o){var i=this.checkNodePool(n),c=null;return(c=0==i.size()?t(e):i.get()).parent=o,c}},o.returnNode=function(n,o){this.checkNodePool(n).put(o)},o.onDestroy=function(){this._nodePoolMap.forEach((function(n,o,e){n.size()>0&&n.clear()}))},n}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/Notification.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"eaaf9e7GAVL6rFyIkzU69iK","Notification",void 0);t("Notification",function(){function t(t,i,n){this._name=void 0,this._body=void 0,this._type=void 0,this._name=t,this._body=i,this._type=n}return t.prototype.toString=function(){var t,i="Notification Name: "+this.name;return i+="\nBody: "+(this.body?this.body:"null"),i+="\nType: "+(null!=(t=this.type)?t:"null")},i(t,[{key:"name",get:function(){return this._name}},{key:"body",get:function(){return this._body},set:function(t){this._body=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Notifier.ts",["cc","./Facade.ts"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.Facade}],execute:function(){n._RF.push({},"133a3kgb9JGoZwDRZFDgb20","Notifier",void 0);t("Notifier",function(){function t(){this.facade=e.getInstance((function(){return new e}))}return t.prototype.sendNotification=function(t,n,e){this.facade.sendNotification(t,n,e)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Observer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o;return{setters:[function(t){n=t.createClass},function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"4ef1a3027RE3Y7g3mAucPzl","Observer",void 0);t("Observer",function(){function t(t,n){this._notifyMethod=void 0,this._notifyContext=void 0,this._notifyMethod=t,this._notifyContext=n}var o=t.prototype;return o.notifyObserver=function(t){var n;null==(n=this.notifyMethod)||n.call(this.notifyContext,t)},o.compareNotifyContext=function(t){return t==this.notifyContext},n(t,[{key:"notifyMethod",get:function(){return this._notifyMethod},set:function(t){this._notifyMethod=t}},{key:"notifyContext",get:function(){return this._notifyContext},set:function(t){this._notifyContext=t}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Proxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Notifier.ts"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy},function(t){i=t.Notifier}],execute:function(){o._RF.push({},"30718wuPOlKJI199cJ/K6sG","Proxy",void 0),t("Proxy",function(t){function o(n,e){var i;return(i=t.call(this)||this)._name=void 0,i._data=void 0,i._name=n||o.NAME,i._data=e,i}n(o,t);var i=o.prototype;return i.onRegister=function(){},i.onRemove=function(){},e(o,[{key:"name",get:function(){return this._name}},{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),o}(i)).NAME="Proxy",o._RF.pop()}}}));

System.register("chunks:///_virtual/ReelBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Symbol.ts","./NodePoolManager.ts","./Definition.ts","./SignalManager.ts","./AudioEngineControl.ts"],(function(e){var t,o,s,l,n,i,a,r,m,u,c,y,h,b,p,g,d,f,S,_,N,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,s=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,m=e._decorator,u=e.Prefab,c=e.Vec3,y=e.UITransform,h=e.Label,b=e.Sprite,p=e.tween,g=e.Component},function(e){d=e.Symbol},function(e){f=e.NodePoolManager},function(e){S=e.SignalType,_=e.SoundList},function(e){N=e.AddSignal},function(e){v=e.AudioEngineControl}],execute:function(){var A,C,R,D,E;r._RF.push({},"3e290/ZGkpB0ZJGeE7FwxX1","ReelBar",void 0);var x=m.ccclass,I=m.property,G=(e("ReelBar",(A=x("ReelBar"),C=I(u),A((E=t((D=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,s(t,"symbol",E,l(t)),t.topOuterSymbolPos=void 0,t.symbolGroup=null,t.symbolGroupOffsetY=0,t.symbolNode=[],t.symbolPosition=[],t.symbolRemove=[],t.symbolAdd=[],t.symbolSpaceY=0,t.symbolHeight=100,t.symbolWidth=100,t.symbolCountFOV=5,t.symbolMove=[],t.isRolling=!1,t.rollingDuration=1,t.rollingDistance=0,t.rollingRestOfSymbols=0,t.rollingSymbolMinimumCount=6,t.rolledSymbolCount=0,t.isQuickStop=!1,t.rollingSpeed=.6,t.fallingSpeed=.2,t.rollingTempo=[.4,.8],t.fakeReelData=["A","B","C","D","E","F","G","H"],t._baseReelData=[],t.resultReelData=[],t.nextReelDataIndex=0,t.isResult=!1,t.resultIndex=0,t.finishCallback=null,t._assets=null,t._reelBarId=void 0,t._removeSymbolData=null,t._updateReelData=[],t._removePos=[],t._multiplePos=void 0,t._multipleText=void 0,t.testData=null,t.getResult=null,t}o(t,e);var r=t.prototype;return r.SetRemoveSymbolRule=function(e,t,o,s){this._updateReelData=e,this._removePos=t,this._multiplePos=o,this._multipleText=s},r.searchMultipleSymbol=function(){var e=this,t=[];return this.symbolGroup.children.forEach((function(o){var s=o.getComponent(d);if("S"==s.GetSymbolName.substring(0,1)){var l={reelBarOrdinal:e._reelBarId,symbolOrdinal:s.getSymbolId,multiplText:s.GetMultipleText};t.push(l)}})),t},r.onLoad=function(){this.symbolGroup=this.node.getChildByName("SymbolGroup"),this._reelBarId=Number(this.node.name.substring(7,this.node.name.length))},r.start=function(){N(S.Write,this.onWriteTest.bind(this))},r.initailReelBar=function(){this.topOuterSymbolPos=new c(0,this.node.getComponent(y).contentSize.height,0),this.rollingDistance=this.node.getComponent(y).contentSize.height;for(var e=this.node.getComponent(y).contentSize.height/2,t=this.symbolHeight/2,o=this.symbolCountFOV+1,s=0;s<o;s++)if(0==s)this.symbolPosition.push(new c(0,e+t+this.symbolGroupOffsetY,0));else{var l=f.getNodePoolMgr().createNode("Symbol",this.symbolGroup,this.symbol);this.symbolNode.push(l),this.symbolPosition.push(new c(0,this.symbolPosition[0].y-this.symbolSpaceY*s-this.symbolHeight*s,0))}this.arrangeSymbol()},r.arrangeSymbol=function(){var e=this;this.symbolGroup.children.forEach((function(t,o){t.setPosition(e.symbolPosition[o+1]);var s=t.getComponent(d),l={symbolHeight:e.symbolHeight,symbolWidth:e.symbolWidth,symbolId:o+1,rollingDistance:e.symbolHeight+e.symbolSpaceY,rollingCallback:e.symbolRolling.bind(e),symbolPosition:e.symbolPosition,reelData:e.fakeReelData};s.init(l),t.getChildByName("StaticSymbol").getComponent(h).string=e._baseReelData[o];var n=e.getSymbolSprite(e._baseReelData[o]);s.SetSymbolName=e._baseReelData[o],t.getChildByName("Static").getComponent(b).spriteFrame=n.spriteFrame,t.getChildByName("Static").scale=n.scale}))},r.getSymbolSprite=function(e){var t=G[e];return{spriteFrame:this._assets.symbols.get(t.spriteName),scale:new c(t.scale,t.scale,0)}},r.getSymbolDragonBone=function(e){var t=B[e];return{dragonAsset:this._assets.dragonBones.get(t.dragonAsset),dragonAtlasAsset:this._assets.dragonBonesAtlas.get(t.dragonAtlasAsset),armatureName:t.armatureName,animationName:t.animationName,scale:new c(t.scale,t.scale,0)}},r.spinOut=function(e){var t=this;p(this.symbolGroup).by(this.rollingSpeed,{position:new c(0,-this.rollingDistance,0)}).call((function(){t.updateSymbolGroupPos(),null==e||e()})).start()},r.spinIn=function(e,t){var o=this;t.forEach((function(e,t){o.symbolGroup.children.forEach((function(s,l){var n=s.getComponent(d);if(t+1==n.getSymbolId){var i=o.getSymbolSprite(e);n.SetSymbolName=e,s.getChildByName("StaticSymbol").getComponent(h).string=e,s.getChildByName("Static").getComponent(b).spriteFrame=i.spriteFrame,s.getChildByName("Static").scale=i.scale}}))})),this.rollingIn(e)},r.updateMultipleText=function(e,t){var o=this;e.forEach((function(e,s){o.symbolGroup.children.forEach((function(o){var l=o.getComponent(d);l.getSymbolId==e&&l.updateMultiple(t[s])}))}))},r.writeData=function(e){this.testData=e},r.onWriteTest=function(e){e.CallBack()},r.playSpin=function(e,t){this.getResult=t,this.rolling()},r.rolling=function(){var e=this;p(this.symbolGroup).by(1,{position:new c(0,-this.rollingDistance,0)}).call((function(){e.updateSymbolGroupPos(),e.getResult&&(e.getResult(),e.getResult=null)})).start()},r.rollingIn=function(e){var t=this;this.symbolGroup.position.y===this.topOuterSymbolPos.y?p(this.symbolGroup).to(this.rollingSpeed,{position:new c(0,0,0)}).call((function(){1==t._reelBarId&&v.getInstance().playAudio(_.SPININ,1),t._reelBarId==e&&(null==t.finishCallback||t.finishCallback())})).start():console.error("--滾輪位置錯誤--",this.symbolGroup.position)},r.updateSymbolGroupPos=function(){0!==this.symbolGroup.position.y&&this.symbolGroup.setPosition(this.topOuterSymbolPos)},r.showFrame=function(e,t){var o=this;this._removePos.forEach((function(s){o.symbolGroup.children.forEach((function(o){var l=o.getComponent(d);l.getSymbolId==s&&l.showFrame(e,t)}))}))},r.hideAllFrame=function(){this.symbolGroup.children.forEach((function(e){e.getComponent(d).hideFrame()}))},r.showDynamic=function(e,t){var o=this;this._removePos.forEach((function(s){o.symbolGroup.children.forEach((function(l){var n=l.getComponent(d);if(n.getSymbolId==s){var i=o.getSymbolDragonBone(n.GetSymbolName);n.showDynamic(e,t,i)}}))}))},r.showFreeSymbolDynamic=function(e,t){var o=this;this.symbolGroup.children.forEach((function(s){var l=s.getComponent(d);if("F"==l.GetSymbolName){var n=o.getSymbolDragonBone(l.GetSymbolName);l.showDynamic(e,t,n)}}))},r.showSingleDynamic=function(e,t,o){var s=this;this.symbolGroup.children.forEach((function(l){var n=l.getComponent(d);if(n.getSymbolId==e){var i=s.getSymbolDragonBone(n.GetSymbolName);n.showDynamic(t,o,i)}}))},r.hideAllDynamic=function(){this.symbolGroup.children.forEach((function(e){e.getComponent(d).hideDynamic()}))},r.showEliminate=function(e,t){var o=this;this._removePos.forEach((function(s){o.symbolGroup.children.forEach((function(o){var l=o.getComponent(d);l.getSymbolId==s&&l.showEliminate(e,t)}))}))},r.hideAllEliminate=function(){this.symbolGroup.children.forEach((function(e){e.getComponent(d).hideEliminate()}))},r.onShowFrameComplete=function(){},r.removeSymbol=function(){var e=i(a().mark((function e(){var t,o,s=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removePos.forEach((function(e){s.symbolRemove.push(e),s.symbolGroup.children.forEach((function(t,o){t.getComponent(d).getSymbolId==e&&f.getNodePoolMgr().returnNode("Symbol",t)}))})),t=Math.max.apply(Math,this.symbolRemove),o=[],this.symbolGroup.children.forEach((function(e,l){var n=e.getComponent(d),i=n.getSymbolId,a=0;if(n.getSymbolId<t)for(var r=i;r<t;r++)i++,s.symbolRemove.forEach((function(e){i==e&&a++}));if(n.setSymbolId=n.getSymbolId+a,0!=a){var m=new Promise((function(t){p(e).to(s.fallingSpeed,{position:s.symbolPosition[n.getSymbolId]}).call((function(){s.specificSymbolBounce(n.getSymbolId),t(e)})).start()}));o.push(m)}})),e.next=6,Promise.all(o).then((function(){s.symbolRemove.splice(0,s.symbolRemove.length)})).catch((function(e){console.error(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.fillSymbol=function(){var e=i(a().mark((function e(){var t,o,s,l,n,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],o=[],this.symbolGroup.children.forEach((function(e){var o=e.getComponent(d);t.push(o.getSymbolId)})),s=1;s<=this.symbolCountFOV;s++)-1==t.indexOf(s)&&this.symbolAdd.push(s);return o=this.symbolAdd,l=Math.max.apply(Math,o),n=[],this.symbolAdd.forEach((function(e,t){for(var s=0,a=0,r=0;r<l-t;r++)s++,o.forEach((function(e){s==e&&a++}));var m=f.getNodePoolMgr().createNode("Symbol",i.symbolGroup,i.symbol),u=m.getComponent(d);m.setPosition(i.symbolPosition[0]);var c={symbolId:a,rollingDistance:i.symbolHeight+i.symbolSpaceY,rollingCallback:i.symbolRolling.bind(i),symbolPosition:i.symbolPosition,reelData:i.fakeReelData};u.init(c);var y=i.getSymbolSprite(i._updateReelData[i._updateReelData.length-1-t]);u.SetSymbolName=i._updateReelData[i._updateReelData.length-1-t],m.getChildByName("StaticSymbol").getComponent(h).string=i._updateReelData[i._updateReelData.length-1-t],m.getChildByName("Static").getComponent(b).spriteFrame=y.spriteFrame,m.getChildByName("Static").scale=y.scale;var g=new Promise((function(e){p(m).to(i.fallingSpeed,{position:i.symbolPosition[u.getSymbolId]}).call((function(){i.specificSymbolBounce(u.getSymbolId),e(m)})).start()}));n.push(g)})),e.next=10,Promise.all(n).then((function(){i.symbolAdd.splice(0,i.symbolAdd.length),i.symbolGroup.children.forEach((function(e){e.getComponent(d)}))})).catch((function(e){console.error(e)}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.symbolRolling=function(){if(this.isRolling){if(this.isQuickStop){if(this.resultIndex++,0!=this.resultIndex&&this.resultIndex>=this.resultReelData.length&&(this.isResult=!1),0==this.rollingRestOfSymbols)return this.isQuickStop=!1,this.rolledSymbolCount=0,void this.symbolBounce()}else if(this.rolledSymbolCount==this.rollingSymbolMinimumCount-(this.symbolCountFOV+1)&&(this.isResult=!0),0!=this.resultIndex&&this.resultIndex>=this.resultReelData.length&&(this.isResult=!1,this.resultIndex=0),this.rolledSymbolCount>=this.rollingSymbolMinimumCount)return this.rolledSymbolCount=0,void this.symbolBounce();var e=this.rollingSpeed;this.nextReelDataIndex++,this.nextReelDataIndex>=this.fakeReelData.length&&(this.nextReelDataIndex=this.nextReelDataIndex%this.fakeReelData.length);for(var t=0;t<this.symbolNode.length;t++){var o=this.symbolNode[t].getComponent(d);this.isResult?o.rolling(e,this.nextReelDataIndex,this.resultIndex):o.rolling(e,this.nextReelDataIndex)}this.rolledSymbolCount++,this.isQuickStop&&this.rollingRestOfSymbols--,this.isResult&&!this.isQuickStop&&this.resultIndex++}},r.setResultDate=function(e){this.resultReelData=e;for(var t=0;t<this.symbolNode.length;t++){this.symbolNode[t].getComponent(d).setResultData(e)}},r.symbolBounce=function(){for(var e=0;e<this.symbolNode.length;e++){this.symbolNode[e].getComponent(d).bounce()}},r.allSymbolBounce=function(){this.symbolGroup.children.forEach((function(e){e.getComponent(d).bounce()}))},r.specificSymbolBounce=function(e){this.symbolGroup.children.forEach((function(t){var o=t.getComponent(d);o.getSymbolId==e&&o.bounce()}))},r.closeAllMultiple=function(){this.symbolGroup.children.forEach((function(e){e.getChildByName("Multiple").active=!1}))},r.reset=function(){this.symbolGroup.children.forEach((function(e){e.getComponent(d).reset()}))},r.update=function(e){},n(t,[{key:"SetBaseReelData",set:function(e){this._baseReelData=e}},{key:"SetAssets",set:function(e){this._assets=e}},{key:"GetSymbolWorldPosition",get:function(){var e=[];return this.symbolNode.forEach((function(t,o){e.push(t.worldPosition)})),e}},{key:"RollingCallBack",set:function(e){this.finishCallback=e}}]),t}(g)).prototype,"symbol",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=D))||R)),e("SymbolSpriteSetting",{N1:{spriteName:"img_symbol_N1",scale:1},N2:{spriteName:"img_symbol_N2",scale:1},N3:{spriteName:"img_symbol_N3",scale:1},N4:{spriteName:"img_symbol_N4",scale:1},N5:{spriteName:"img_symbol_N5",scale:1},H1:{spriteName:"img_symbol_H1",scale:.8},H2:{spriteName:"img_symbol_H2",scale:.8},H3:{spriteName:"img_symbol_H3",scale:.8},H4:{spriteName:"img_symbol_H4",scale:.8},S1:{spriteName:"img_symbol_S1",scale:.8},S2:{spriteName:"img_symbol_S2",scale:.8},S3:{spriteName:"img_symbol_S3",scale:.8},S4:{spriteName:"img_symbol_S4",scale:.8},F:{spriteName:"img_symbol_F",scale:.8}})),B=e("SymbolDragonBonesSetting",{N1:{dragonAsset:"symbolAKQJTE_ske",dragonAtlasAsset:"symbolAKQJTE_tex",armatureName:"symbolAKQJTE",animationName:"play_A",scale:1},N2:{dragonAsset:"symbolAKQJTE_ske",dragonAtlasAsset:"symbolAKQJTE_tex",armatureName:"symbolAKQJTE",animationName:"play_Q",scale:1},N3:{dragonAsset:"symbolAKQJTE_ske",dragonAtlasAsset:"symbolAKQJTE_tex",armatureName:"symbolAKQJTE",animationName:"play_TE",scale:1},N4:{dragonAsset:"symbolAKQJTE_ske",dragonAtlasAsset:"symbolAKQJTE_tex",armatureName:"symbolAKQJTE",animationName:"play_K",scale:1},N5:{dragonAsset:"symbolAKQJTE_ske",dragonAtlasAsset:"symbolAKQJTE_tex",armatureName:"symbolAKQJTE",animationName:"play_J",scale:1},H1:{dragonAsset:"symbolM2_ske",dragonAtlasAsset:"symbolM2_tex",armatureName:"symbolM2",animationName:"play",scale:.8},H2:{dragonAsset:"symbolM3_ske",dragonAtlasAsset:"symbolM3_tex",armatureName:"symbolM3",animationName:"play",scale:.8},H3:{dragonAsset:"symbolM4_ske",dragonAtlasAsset:"symbolM4_tex",armatureName:"symbolM4",animationName:"play",scale:.8},H4:{dragonAsset:"symbolM1_ske",dragonAtlasAsset:"symbolM1_tex",armatureName:"symbolM1",animationName:"play",scale:.8},S1:{dragonAsset:"symbolF1234_ske",dragonAtlasAsset:"symbolF1234_tex",armatureName:"symbolF1234",animationName:"play_F4",scale:.8},S2:{dragonAsset:"symbolF1234_ske",dragonAtlasAsset:"symbolF1234_tex",armatureName:"symbolF1234",animationName:"play_F1",scale:.8},S3:{dragonAsset:"symbolF1234_ske",dragonAtlasAsset:"symbolF1234_tex",armatureName:"symbolF1234",animationName:"play_F3",scale:.8},S4:{dragonAsset:"symbolF1234_ske",dragonAtlasAsset:"symbolF1234_tex",armatureName:"symbolF1234",animationName:"play_F2",scale:.8},F:{dragonAsset:"symbolB1_ske",dragonAtlasAsset:"symbolB1_tex",armatureName:"symbolB1",animationName:"play",scale:.8}});r._RF.pop()}}}));

System.register("chunks:///_virtual/ReelBarMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(e){var r,t,n,o,a;return{setters:[function(e){r=e.inheritsLoose,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy},null,function(e){a=e.Mediator}],execute:function(){o._RF.push({},"b23bcgLdtFOzIqKnqZ9QFNr","ReelBarMediator",void 0),e("ReelBarMediator",function(e){function o(r){var t;return(t=e.call(this,o.NAME,r)||this).reelBar=null,t.reelBar=t.viewComponent,t}r(o,e);var a=o.prototype;return a.listNotificationInterests=function(){return["SPIN_OUT","SPIN_IN","WRITE"]},a.handleNotification=function(){var e=t(n().mark((function e(r){var t,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&((a=r.body).reels&&(t=a.reels),a.callback&&(o=a.callback)),e.t0=r.name,e.next="SPIN_OUT"===e.t0?4:"SPIN_IN"===e.t0?7:"WRITE"===e.t0?9:11;break;case 4:return console.log("! SPIN_OUT"),o&&this.reelBar.spinOut(o),e.abrupt("break",12);case 7:return t&&this.reelBar.spinIn(t),e.abrupt("break",12);case 9:return this.reelBar.writeData(t),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),a.getResult=function(){return console.log("取得滾輪最新結果"),new Promise((function(e,r){setTimeout(t(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("! get slot proxy"),e("success");case 2:case"end":return r.stop()}}),r)}))),3e3)}))},a.simRolling=function(){return new Promise((function(e,r){setTimeout(t(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("! go rolling"),e("success");case 2:case"end":return r.stop()}}),r)}))),3e3)}))},o}(a)).NAME="ReelBarMediator",o._RF.pop()}}}));

System.register("chunks:///_virtual/ReelControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReelBar.ts","./SignalManager.ts","./Definition.ts","./AudioEngineControl.ts"],(function(o){var e,t,n,i,l,a,r,s,h,m,c,u,S,y,f,b;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,l=o.asyncToGenerator,a=o.regeneratorRuntime,r=o.createClass},function(o){s=o.cclegacy,h=o._decorator,m=o.Component},function(o){c=o.ReelBar},function(o){u=o.AddSignal,S=o.SignalManager},function(o){y=o.SignalType,f=o.SoundList},function(o){b=o.AudioEngineControl}],execute:function(){var p,w,d,D,C;s._RF.push({},"b7cfdYMAL9FYq2YGBm28Slh","ReelControl",void 0);var E=h.ccclass,v=h.property;o("ReelControl",(p=E("ReelControl"),w=v(c),p((C=e((D=function(o){function e(){for(var e,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return e=o.call.apply(o,[this].concat(l))||this,n(e,"reelBars",C,i(e)),e._baseReelData=null,e._assets=null,e._removeSymbolData=null,e._removeSymbolRule=null,e._multipleSymbolPos=[],e.totalSymbolToShowFrame=0,e.showFrameCount=0,e.totalSymbolToShowDynamic=0,e.showDynamicCount=0,e.totalFreeSymbolToShowDynamic=0,e.showFreeSymbolDynamicCount=0,e.totalSymbolToShowEliminate=0,e.showEliminateCount=0,e._multipleInfo=null,e}t(e,o);var s=e.prototype;return s.onLoad=function(){u(y.ShowSymbolFrame,this.onShowSymbolFrame.bind(this)),u(y.ShowSymbolDynamic,this.onShowSymbolDynamic.bind(this)),u(y.ShowFreeSymbolDynamic,this.onShowFreeSymbolDynamic.bind(this)),u(y.ShowSingleSymbolDynamic,this.onShowSingleSymbolDynamic.bind(this)),u(y.ShowSymbolEliminate,this.onShowSymbolEliminate.bind(this)),u(y.RemoveSymbol,this.onRemoveSymbol.bind(this)),u(y.FillSymbol,this.onFillSymbol.bind(this)),u(y.UpdateMultipleText,this.onUpdateMultipleText.bind(this)),u(y.CloseSymbolMultiple,this.onCloseSymbolMultiple.bind(this))},s.searchMultipleSymbol=function(){var o=[];return this.reelBars.forEach((function(e){var t=e.searchMultipleSymbol();o.push(t)})),o},s.onShowSymbolFrame=function(o){var e=this;b.getInstance().playAudio(f.ShowFrameStart,1),this._removeSymbolRule.removePos.forEach((function(o){e.totalSymbolToShowFrame+=o.length})),this.reelBars.forEach((function(o){o.showFrame(e.onShowFrameComplete,e)}))},s.onShowFrameComplete=function(){this.showFrameCount++,this.showFrameCount>=this.totalSymbolToShowFrame&&(b.getInstance().playAudio(f.ShowFrameEnd,1),S.CallBack(y[y.ShowSymbolFrame]),this.reelBars.forEach((function(o){o.hideAllFrame()})),this.showFrameCount=0,this.totalSymbolToShowFrame=0)},s.onShowSymbolDynamic=function(o){var e=this;this._removeSymbolRule.removePos.forEach((function(o){e.totalSymbolToShowDynamic+=o.length})),this.reelBars.forEach((function(o){o.showDynamic(e.onShowDynamicComplete,e)}))},s.onShowDynamicComplete=function(){this.showDynamicCount++,this.showDynamicCount>=this.totalSymbolToShowDynamic&&(S.CallBack(y[y.ShowSymbolDynamic]),this.reelBars.forEach((function(o){o.hideAllDynamic()})),this.showDynamicCount=0,this.totalSymbolToShowDynamic=0)},s.onShowFreeSymbolDynamic=function(o){var e=this;b.getInstance().playAudio(f.FreeGameSymbol,1),this.reelBars.forEach((function(o){o.showFreeSymbolDynamic(e.onShowFreeSymbolDynamicComplete,e)}))},s.onShowFreeSymbolDynamicComplete=function(){this.showFreeSymbolDynamicCount++,this.showFreeSymbolDynamicCount>=this.totalFreeSymbolToShowDynamic&&(S.CallBack(y[y.ShowFreeSymbolDynamic]),this.reelBars.forEach((function(o){o.hideAllDynamic()})),this.showFreeSymbolDynamicCount=0,this.totalFreeSymbolToShowDynamic=0)},s.onShowSingleSymbolDynamic=function(o){var e=this;b.getInstance().playAudio(f.MultipleSymbol,1),this._multipleSymbolPos.forEach((function(o){e.reelBars[o.reelBarOrdinal-1].showSingleDynamic(o.symbolOrdinal,e.onshowSingleDynamicComplete,e)}))},s.onshowSingleDynamicComplete=function(){S.CallBack(y[y.ShowSingleSymbolDynamic])},s.onShowSymbolEliminate=function(o){var e=this;b.getInstance().playAudio(f.NGSymbolEliminate,1),this._removeSymbolRule.removePos.forEach((function(o){e.totalSymbolToShowEliminate+=o.length})),this.reelBars.forEach((function(o){o.showEliminate(e.onShowEliminateComplete,e)}))},s.onShowEliminateComplete=function(){this.showEliminateCount++,this.showEliminateCount>=this.totalSymbolToShowEliminate&&(S.CallBack(y[y.ShowSymbolEliminate]),this.reelBars.forEach((function(o){o.hideAllEliminate()})),this.showEliminateCount=0,this.totalSymbolToShowEliminate=0)},s.onRemoveSymbol=function(o){var e=[];this.reelBars.forEach((function(o,t){var n=new Promise(l(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.removeSymbol();case 2:t(!0);case 3:case"end":return e.stop()}}),e)}))));e.push(n)})),Promise.all(e).then((function(){o.CallBack()})).catch((function(o){console.error(o)}))},s.onFillSymbol=function(o){var e=[];this.reelBars.forEach((function(o,t){var n=new Promise(l(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fillSymbol();case 2:t(!0);case 3:case"end":return e.stop()}}),e)}))));e.push(n)})),Promise.all(e).then((function(){o.CallBack()})).catch((function(o){console.error(o)}))},s.init=function(){var o=this;this.reelBars.forEach((function(e,t){e.SetBaseReelData=o._baseReelData[t],e.initailReelBar()}))},s.spinOut=function(o){var e=this;b.getInstance().playAudio(f.SPINOUT,1),this.reelBars.forEach((function(t,n){e.scheduleOnce((function(){n==e.reelBars.length-1?t.spinOut(o):t.spinOut()}),.1*n)}))},s.spinIn=function(o){var e=this;this.reelBars.forEach((function(t,n){e.scheduleOnce((function(){t.spinIn(e.reelBars.length,o[n])}),.1*n)}))},s.updateMultipleText=function(o){this.reelBars.forEach((function(e,t){e.updateMultipleText(o.pos[t],o.text[t])}))},s.onUpdateMultipleText=function(o){var e=this;this.reelBars.forEach((function(o,t){o.updateMultipleText(e._removeSymbolRule.multipleInfo.pos[t],e._removeSymbolRule.multipleInfo.text[t])})),o.CallBack()},s.onCloseSymbolMultiple=function(o){var e=this;this._multipleSymbolPos.forEach((function(o){e.reelBars[o.reelBarOrdinal-1].closeAllMultiple()})),o.CallBack()},s.spinStop=function(){},s.reset=function(){this.reelBars.forEach((function(o){o.reset()}))},s.start=function(){},s.update=function(o){},r(e,[{key:"SetBaseReelData",set:function(o){this._baseReelData=o}},{key:"SetAssets",set:function(o){this._assets=o,this.reelBars.forEach((function(e){e.SetAssets=o}))}},{key:"SetRemoveSymbolRule",set:function(o){this._removeSymbolRule=o,this.reelBars.forEach((function(e,t){e.SetRemoveSymbolRule(o.updateReelData[t],o.removePos[t],o.multipleInfo.pos[t],o.multipleInfo.text[t])}))}},{key:"SetMultipleSymbolPos",set:function(o){this._multipleSymbolPos=o}},{key:"GetSymbolWorldPosition",get:function(){var o=[];return this.reelBars.forEach((function(e){o.push(e.GetSymbolWorldPosition)})),o}}]),e}(m)).prototype,"reelBars",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=D))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/RemoveState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts","./Definition.ts"],(function(e){var t,n,o,i,s,a,c,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.FSMProxy},function(e){i=e.SlotProxy},function(e){s=e.StateBase},function(e){a=e.GameState},function(e){c=e.GameFacade},function(e){l=e.SignalAction}],execute:function(){n._RF.push({},"18197+eStlNc41Z4NyzBLfq","RemoveState",void 0);e("RemoveState",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var s=n.prototype;return s.onEnter=function(e,t){return console.log("RemoveState onEnter"),!0},s.on=function(t,n){e.prototype.on.call(this,t,n),console.log("RemoveState on")},s.call=function(){console.log("動畫結束");var e=this.event.facade.retrieveProxy(i.NAME),t=this.event.facade.retrieveProxy(o.NAME);e.isNextRemove()?this.event.fsm.go(a.Remove,t.fsmEvent(c.REMOVE,l.NG.Remove)):e.hasMultipleInfo()?(this.event.facade.sendNotification("SEARCH_MULTIPLE_SYMBOL"),this.event.fsm.go(a.MultipleHandle,t.fsmEvent(c.MULTIPLE_HANDLE,l.NG.MultipleHandle))):this.event.fsm.go(a.NGShowWin,t.fsmEvent(null,l.NG.Win))},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/RemoveStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./BetProxy.ts","./ScoreProxy.ts","./SlotProxy.ts","./SimpleCommand.ts"],(function(e){var t,o,n,i,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},null,function(e){n=e.BetProxy},function(e){i=e.ScoreProxy},function(e){r=e.SlotProxy},function(e){a=e.SimpleCommand}],execute:function(){o._RF.push({},"0a9a4EhSnZDfrF8JxZ9FyPt","RemoveStateCommand",void 0);e("RemoveStateCommand",function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.execute=function(e){var t=this.facade.retrieveProxy(r.NAME).getRemoveUpdateReelData();this.facade.sendNotification("SET_REMOVE_INFO",t);var o=this.facade.retrieveProxy(n.NAME);if(this.facade.sendNotification("SET_BET_MULTIPLE",o.GetCurrentBetMultiple),null!=t){var a=this.facade.retrieveProxy(i.NAME);a.SetScore=t.score,this.facade.sendNotification("SET_SCORE_VALUE",a.GetScore)}},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/RunScore.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,s,n,o,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,n=t._decorator,o=t.Label,h=t.Component}],execute:function(){var a;s._RF.push({},"9849f2ERINAhqPRajTcWT+0","RunScore",void 0);var u=n.ccclass;n.property,t("RunScore",u(a=function(t){function s(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).isimmediatelyEnd=!1,e.stepData=[],e.stepInx=0,e.stepEventFun=null,e.easeBool=!1,e.durationTime=0,e.onComplete=null,e.onUpdate=null,e.onWrite=null,e.item=null,e.sNowShowNum=0,e.currencySign="",e.DenomDefine=0,e.isShowDecimal=!1,e.isDecimalFix=!1,e.isShowComma=!1,e.numberTime=6,e.substration=1,e.tmpTime=-1,e.timeScore=void 0,e.places=0,e.initScaleX=1,e.initScaleY=1,e}e(s,t);var n=s.prototype;return n.init=function(){this.item=this.node.getComponent(o),this.initScaleX=this.node.getScale().x,this.initScaleY=this.node.getScale().y},n.callDenodefValue=function(t){var e=t;return this.places>0&&(e=parseFloat(t.toFixed(this.places))),e},n.showNum=function(t,e){void 0===e&&(e=!0),this.sNowShowNum=t;var i=e?this.callDenodefValue(this.sNowShowNum):this.sNowShowNum;this.writeShowNumber(i)},n.runScoreTime=function(t,e,i,s,n){void 0===i&&(i=0),void 0===s&&(s=null),void 0===n&&(n=null),this.timeScore={startNum:i,endNum:e},this.clearNumber();var o=e-i;this.substration=this.isShowDecimal?o/t:Math.round(o/t),this.runNum(this.timeScore.startNum),this.numberTime=t,this.onComplete=s,this.onWrite=n,this.tmpTime=0},n.update=function(t){if(-1!=this.tmpTime)if(this.tmpTime+=t,!this.isimmediatelyEnd&&this.numberTime>this.tmpTime&&this.sNowShowNum<this.timeScore.endNum){var e=this.timeScore.startNum+this.tmpTime*this.substration;this.runNum(e)}else this.runNum(this.timeScore.endNum,!0),this.tmpTime=-1},n.immediatelyRunEnd=function(){this.isimmediatelyEnd=!0},n.setStepData=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=.2),this.stepData=t,this.easeBool=e,this.durationTime=i},n.stepEvent=function(t){t>=this.stepData[this.stepInx]&&(this.stepInx++,this.easeBool?this.easeingAnScale():this.setAnScale())},n.setAnScale=function(){this.node.setScale(this.node.getScale().x+=.2,this.node.getScale().y+=.2,this.node.getScale().z),this.onCallBackstep()},n.easeingAnScale=function(){this.onCallBackstep()},n.onCallBackstep=function(){null!==this.stepEventFun&&this.stepEventFun(this.stepInx)},n.runNum=function(t,e){void 0===e&&(e=!1),this.sNowShowNum=t,this.stepData.length>0&&this.stepInx<this.stepData.length&&this.stepEvent(Number(t));var i=this.callDenodefValue(t);this.writeShowNumber(i),e&&null!=this.onComplete&&this.onComplete()},n.writeShowNumber=function(t){null!=this.onUpdate&&this.onUpdate(this.sNowShowNum.toString),null!==this.item&&(this.item.string=""+this.currencySign+t),this.onWrite&&this.onWrite(this.node,this.currencySign,t,this.sNowShowNum)},n.clearNumber=function(t){void 0===t&&(t=!1),this.showNum(this.timeScore.endNum),this.isimmediatelyEnd=!1,this.stepInx=0,t&&(this.item.string=""),this.node.setScale(this.initScaleX,this.initScaleY,this.node.getScale().z)},n.readScore=function(){this.isimmediatelyEnd||this.writeShowNumber(this.callDenodefValue(this.sNowShowNum))},n.caculateDecimal=function(t,e){void 0===e&&(e=2);for(var i=""+t,s=e,n="",o=!1,h=0;h<i.length;h++)s>0&&(n+=i.charAt(h),"."===i.charAt(h-1)&&(o=!0),!0===o&&s--);if(this.isDecimalFix){!o&&s>0&&(n+=".");for(var a=0;a<s;a++)n+="0"}return n},i(s,[{key:"setUpdateFunc",set:function(t){this.onUpdate=t}},{key:"isDecimal",set:function(t){this.isShowDecimal=t}},{key:"setWritePack",set:function(t){this.onWrite=t}},{key:"isDecimalFixed",set:function(t){this.isDecimalFix=t}},{key:"isComma",set:function(t){this.isShowComma=t}},{key:"setDenomDef",set:function(t){this.DenomDefine=t}},{key:"setPlaces",set:function(t){this.places=t}},{key:"setCurrencySign",set:function(t){this.currencySign=t}},{key:"setStepFun",set:function(t){this.stepEventFun=t}}]),s}(h))||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./BetProxy.ts","./Proxy.ts"],(function(e){var t,i,n,r,o;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy},null,function(e){r=e.BetProxy},function(e){o=e.Proxy}],execute:function(){n._RF.push({},"45f516C3jZJJY5yDcfP7f7N","ScoreProxy",void 0),e("ScoreProxy",function(e){function n(){var t;return(t=e.call(this,n.NAME)||this)._eliminateScore=0,t._winScore=0,t._multiple=0,t}t(n,e);var o=n.prototype;return o.betMultiple=function(){return this.facade.retrieveProxy(r.NAME).GetCurrentBetMultiple},o.reset=function(){this._eliminateScore=0,this._winScore=0,this._multiple=0},o.onRegister=function(){},i(n,[{key:"SetScore",set:function(e){0==this._winScore?this._winScore=e*this.betMultiple():this._winScore+=e*this.betMultiple()}},{key:"GetScore",get:function(){return this._winScore}},{key:"SetMultiple",set:function(e){this._multiple=e,0!=this._winScore&&(this._winScore*=e)}},{key:"GetMultiple",get:function(){return this._multiple}},{key:"SetScoreFGState",set:function(e){this.SetScore=e,this._eliminateScore=e*this.betMultiple()}},{key:"SetMultipleFGState",set:function(e){this._multiple=e,this._eliminateScore*=e,0!=this._winScore&&(this._winScore=this._winScore+this._eliminateScore)}},{key:"GetEliminateScore",get:function(){return this._eliminateScore}}]),n}(o)).NAME="ScoreProxy",n._RF.pop()}}}));

System.register("chunks:///_virtual/Signal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SignalSchedule.ts"],(function(n){var t,e,a;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){a=n.SignalSchedule}],execute:function(){e._RF.push({},"c5bedY+4j5FGb4Z7NXkXWxx","Signal",void 0);n("Signal",function(){function n(n,t){this.signalName="",this.data=null,this.signalName=n,this.data=t}return n.prototype.CallBack=function(){a.Instance.Complete(this.signalName)},n.signalCallBack=function(n){a.Instance.Complete(n)},t(n,[{key:"EventName",get:function(){return this.signalName}},{key:"Data",get:function(){return this.data}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SignalManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Definition.ts","./Signal.ts"],(function(n){var a,t,i,e;return{setters:[function(n){a=n.createClass},function(n){t=n.cclegacy},function(n){i=n.SignalType},function(n){e=n.Signal}],execute:function(){n("AddSignal",(function(n,a){s.addEventListener(i[n],a)})),t._RF.push({},"630b2lBgyZBfZvB3LIwpohE","SignalManager",void 0);var s=n("SignalManager",function(){function n(){this.signalMap=new Map}return n.dispathEvent=function(n){var a=this,t=setTimeout((function(){a.Instance.dispatch(n.EventName,n),clearTimeout(t),t=null}),0)},n.addEventListener=function(n,a){this.Instance.signalMap[n]!=a&&(null==this.Instance.signalMap[n]&&(this.Instance.signalMap[n]=new Array),this.Instance.signalMap[n].push(a))},n.prototype.dispatch=function(n,a){if(null!=this.signalMap&&null!=this.signalMap[n])for(var t=this.signalMap[n],i=0;i<t.length;i++){var e=t[i];null!=e&&e(a)}},n.ClearEvent=function(){this.Instance.signalMap=new Map},n.CallBack=function(n){e.signalCallBack(n)},a(n,null,[{key:"Instance",get:function(){return null==n.instance&&(n.instance=new n),n.instance}}]),n}());s.instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/SignalSchedule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./SignalManager.ts"],(function(t){var n,e,i,s;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.Signal},function(t){s=t.SignalManager}],execute:function(){e._RF.push({},"05c39P6jPdOjoLVO8UB+Gab","SignalSchedule",void 0),t("SignalSchedule",function(){function t(){this.keys=null,this.data=void 0,this.index=0,this.count=0,this.overFunc=null,this.runData=new Array,this.isLog=void 0}var e=t.prototype;return e.SetSchedule=function(t){return this.data=t,this.runData=[],this.index=0,this},e.ClearSchedule=function(){this.index=0,this.count=0,this.data=[],this.runData=[]},e.Show=function(){var t=this;if(null!=this.data&&null!=this.data){var n=this.data.length;if(0==n||this.index>=n)this.overSchedule();else{var e=this.data[this.index];this.count=e.length;var a=[];e.forEach((function(n){if(null!=t.keys){var e=t.keys[n];s.dispathEvent(new i(e)),t.runData.push({Name:e,isCallBack:!1}),a.push(e)}else s.dispathEvent(new i(n)),t.runData.push({Name:n,isCallBack:!1}),a.push(n)})),this.isLog&&(this.count>1?console.log("併發排程事件:",a,"等待回調"):console.log("順序排程事件:",a,"等待回調"))}}else this.overSchedule()},e.Complete=function(t){var n;this.runData.forEach((function(e){e.Name!=t||e.isCallBack||(e.isCallBack=!0,n=!0)})),n&&(this.isLog&&console.log("CBS:",t),this.count--,0===this.count&&(this.index++,this.index<this.data.length?this.Show():this.overSchedule()))},e.overSchedule=function(){this.index=0,null!=this.overFunc&&this.overFunc()},n(t,null,[{key:"Instance",get:function(){return null==t.instance&&(t.instance=new t),t.instance}},{key:"addScheduleComplete",set:function(t){this.Instance.overFunc=t}},{key:"IsOpenLog",set:function(t){this.Instance.isLog=t}},{key:"SetKeys",set:function(t){this.Instance.keys=t}}]),t}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Notifier.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Notifier}],execute:function(){n._RF.push({},"28a69t4a+FLU7vn2r6H1EGJ","SimpleCommand",void 0);t("SimpleCommand",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.execute=function(t){},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Proxy.ts"],(function(e){var t,N,o,n;return{setters:[function(e){t=e.inheritsLoose,N=e.createClass},function(e){o=e.cclegacy},null,function(e){n=e.Proxy}],execute:function(){o._RF.push({},"5a865TwFtVJXpt8O3z+rEuE","SlotProxy",void 0),e("SlotProxy",function(e){function o(){var t;return(t=e.call(this,o.NAME)||this).reels=[[1,2,3],[1,2,1],[3,2,3],[2,2,2],[3,2,1]],t._baseReelData=[["H2","N4","N4","H3","H3"],["N4","N4","N1","N1","N2"],["H3","N1","N1","N4","N4"],["H3","H2","H2","N2","N2"],["H4","N2","N2","N3","N3"],["N1","H2","H2","N2","N2"]],t._NG_routineScript=[{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N2","N2","H3","H3","N5"],["H4","N1","N1","N1","N2"],["N3","N3","H3","H3","N2"],["H1","N2","N2","H2","H2"],["N3","N1","N1","S2","N3"],["N2","N2","N4","N5","F"]],multipleInfo:{pos:[[],[],[],[],[4],[]],text:[[],[],[],[],["2x"],[]]}},removeSymbolData:[{score:.1,updateReelData:[["N1","F"],["H4"],["N3"],["N3","H1"],[],["H3","H3"]],removePos:[[1,2],[5],[5],[2,3],[],[1,2]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N2","N3","N3","H2","H2"],["H3","S2","N2","N1","N4"],["F","N4","N4","H3","H3"],["H1","H2","H2","N5","N5"],["N4","N4","N1","N1","H3"],["H2","H2","H3","H3","N1"]],multipleInfo:{pos:[[],[2],[],[],[],[]],text:[[],["3x"],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!0,score:.6},spinReelData:{updateReelData:[["H2","H1","N5","N1","H3"],["N4","H2","H1","N5","F"],["N5","N1","H3","N3","F"],["N2","H4","N4","F","H1"],["N4","H2","H1","F","N1"],["H2","H1","N5","N1","H3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H4","N3","N5","N3","H4"],["N1","N1","H1","H1","N4"],["N1","N1","N3","N3","H4"],["H2","N4","N4","N3","N3"],["N2","H1","H1","N3","N3"],["N2","N2","H2","H2","N3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.05,updateReelData:[["N2","H3"],[],["N2","N2"],["H3","H2"],["H4","N2"],["H1"]],removePos:[[2,4],[],[3,4],[4,5],[4,5],[5]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H2","N4","N4","H3","H3"],["N4","N4","N1","N1","N2"],["H3","N1","N1","N4","N4"],["H3","H2","H2","N2","N2"],["H4","N2","N2","N3","N3"],["N1","H2","H2","N2","N2"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N4","H2","H2","N5","N5"],["N1","N1","N1","N2","H3"],["H4","H4","N2","N2","F"],["N5","N3","N3","N2","F"],["H4","H4","N2","N2","H1"],["H1","N1","N1","H3","H3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[]}],t._FG_routineScript=[{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H4","H4","N2","N2","N3"],["H1","S2","H4","H4","N5"],["N5","N5","N1","N1","N2"],["N2","N2","N3","N3","N1"],["N3","N3","H3","H3","N4"],["N1","H3","H3","N2","N2"]],multipleInfo:{pos:[[],[2],[],[],[],[]],text:[[],["2x"],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N5","N5","N3","N3","N1"],["N2","H3","H3","H1","H1"],["H3","N3","N3","H1","H1"],["H1","H1","N3","N3","N4"],["H3","N5","N5","N2","N2"],["N5","N5","N3","N3","N3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.05,updateReelData:[["H3","H3"],[],["N4","H3"],["H2","H2"],[],["N2","F","N5"]],removePos:[[3,4],[],[2,3],[3,4],[],[3,4,5]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N3","N3","H2","H2","H3"],["N1","N1","N2","N2","N2"],["N1","N2","N2","N2","N5"],["N3","H2","H2","N5","N5"],["N4","N4","N2","N2","H1"],["H2","H2","H3","H3","N3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.1,updateReelData:[[],["N4","H1","H1"],["H1","H1","N1"],[],["N5","N5"],[]],removePos:[[],[3,4,5],[2,3,4],[],[3,4],[]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N5","H4","H4","N2","N2"],["S2","N5","N5","H1","H1"],["N2","H2","H2","N3","N3"],["N3","N3","H4","H4","N5"],["H1","H1","N2","N2","N5"],["H1","H1","H2","H2","H3"]],multipleInfo:{pos:[[],[1],[],[],[],[]],text:[[],["2x"],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N2","N5","N5","H1","H1"],["H1","H1","S4","H4","H4"],["H2","N5","N5","N3","N3"],["H1","N5","N5","H4","H4"],["N3","N3","H4","H4","N5"],["H2","N1","N1","N5","N5"]],multipleInfo:{pos:[[],[3],[],[],[],[]],text:[[],["10x"],[],[],[],[]]}},removeSymbolData:[{score:.08,updateReelData:[["H3","N2"],[],["N4","H2"],["N1","H1"],["N2"],["N5","H2"]],removePos:[[2,3],[],[2,3],[2,3],[5],[4,5]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N2","N5","N5","H1","H1"],["N1","N5","N5","H1","H1"],["N3","N3","H1","H1","N5"],["N5","H4","H4","N5","N5"],["N2","H3","H3","N5","N5"],["N2","N2","H3","H3","H3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.18,updateReelData:[["H3","N2"],["N2","N1"],["H3"],["N1","N1","N5"],["N4","N2"],[]],removePos:[[2,3],[2,3],[5],[1,4,5],[4,5],[]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N3","N3","H4","H4","S2"],["N4","N2","N2","N5","N5"],["N2","N2","N5","N5","N5"],["H3","H3","F","N3","N3"],["N4","H3","H3","S2","N2"],["N1","N1","N4","N4","H1"]],multipleInfo:{pos:[[5],[],[],[],[4],[]],text:[["3x"],[],[],[],["2x"],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N3","N5","N5","H2","H2"],["N1","N1","N2","N2","N3"],["N5","N5","N1","N1","N1"],["N4","N4","N3","N3","H1"],["N2","N5","N5","N3","N3"],["N4","N5","N5","H2","H2"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.08,updateReelData:[["H1","N3"],[],["N3","N3"],[],["H1","N2"],["H4","N4"]],removePos:[[2,3],[],[1,2],[],[2,3],[2,3]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},{score:.05,updateReelData:[["N5","H1"],["H1"],["H3","H3"],["H3","H3"],["H1","H1"],[]],removePos:[[2,3],[5],[1,2],[3,4],[4,5],[]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H2","H2","N4","N4","H3"],["N1","N2","N2","N2","S2"],["N4","H3","H3","N3","N3"],["N3","H2","H2","N1","N1"],["N2","N3","N3","H3","H3"],["N3","N3","H1","H1","N1"]],multipleInfo:{pos:[[],[5],[],[],[],[]],text:[[],["2x"],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H4","F","N3","N3","H3"],["H4","H4","N5","N5","H3"],["H2","H2","N5","N5","N3"],["N5","H1","H1","N1","N1"],["N2","N3","N3","F","N1"],["N1","N1","N3","N3","N3"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.05,updateReelData:[["N5","H4"],[],["N4"],[],["H4","N2"],["H2","H2","N1"]],removePos:[[3,4],[],[5],[],[2,3],[3,4,5]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N1","N1","N2","N2","H2"],["N2","N2","N3","N3","H4"],["N1","N1","H3","H3","N3"],["H2","H1","H1","N3","N3"],["N2","N3","N3","N5","N5"],["N2","N2","F","N5","N5"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H2","H2","H2","H3","H3"],["H4","H4","N2","N2","F"],["N3","H3","H3","N5","N5"],["N3","H2","H2","N5","N5"],["N5","N2","N2","H1","H1"],["N5","H3","H3","N2","N2"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N3","N5","N3","N5","N3"],["N5","N3","N5","N3","N5"],["N3","N5","S2","N5","N3"],["N5","N3","S2","N3","N5"],["N3","N5","N3","N5","N3"],["N5","N3","N5","N3","N5"]],multipleInfo:{pos:[[],[],[3],[3],[],[]],text:[[],[],["2x"],["3x"],[],[]]}},removeSymbolData:[{score:1.2,updateReelData:[["N3","N2","N1","H2","N5"],["N5","N5","N2","H2","N1"],["N4","N2","N4","N4"],["N4","H2","H4","H4"],["H4","N3","H4","N5","N5"],["N5","H1","N2","H1","N2"]],removePos:[[1,2,3,4,5],[1,2,3,4,5],[1,2,4,5],[1,2,4,5],[1,2,3,4,5],[1,2,3,4,5]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["H4","H4","H4","H4","H4"],["H4","N4","N4","N4","H4"],["H4","N4","S2","N4","H4"],["H4","N4","S2","N4","H4"],["H4","N4","N4","N4","H4"],["H4","H4","H4","H4","H4"]],multipleInfo:{pos:[[],[],[3],[3],[],[]],text:[[],[],["2x"],["2x"],[],[]]}},removeSymbolData:[{score:10.24,updateReelData:[["H1","N3","N3","N1","N1"],["N3","F","H4","H4","N4"],["N3","N2","N2","H2"],["N4","N4","N5","H3"],["N1","N4","H1","N3","H3"],["H2","H2","N4","N4","N4"]],removePos:[[1,2,3,4,5],[1,2,3,4,5],[1,2,4,5],[1,2,4,5],[1,2,3,4,5],[1,2,3,4,5]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]},{fgInfo:{hasFG:!1,score:0},spinReelData:{updateReelData:[["N2","N1","N4","N4","H1"],["N2","H4","N4","N4","N1"],["N3","N4","H3","H1","H1"],["N5","H4","H3","N3","N3"],["N4","N4","N4","N2","N2"],["N2","H1","H1","H1","N1"]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},removeSymbolData:[{score:.16,updateReelData:[["H1","H1"],["H2","H2"],["N3"],[],["N4","N1","H3"],[]],removePos:[[3,4],[3,4],[2],[],[1,2,3],[]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}},{score:.5,updateReelData:[["H3","H3","N5"],[],["N3","H3"],[],[],["H4","N2","N2"]],removePos:[[1,2,5],[],[4,5],[],[],[2,3,4]],multipleInfo:{pos:[[],[],[],[],[],[]],text:[[],[],[],[],[],[]]}}]}],t._NG_curRoutine=null,t._FG_curRoutine=null,t._curRemoveSymbolData=null,t.mainIndex=0,t.fgMainIndex=0,t.handleRemoveIndex=0,t.fgHandleRemoveIndex=0,t.isFGRoundEnd=!1,t._isAutoMode=!1,t}t(o,e);var n=o.prototype;return n.hasFG=function(){return this._NG_curRoutine.fgInfo.hasFG},n.hasRemoveInfo=function(){return this._NG_curRoutine.removeSymbolData.length>0},n.hasFGRemoveInfo=function(){return this._FG_curRoutine.removeSymbolData.length>0},n.hasMultipleInfo=function(){var e=[];return this.GetAllMultipleInfo.forEach((function(t){var N=t.pos.some((function(e){return e.length>0}));N&&e.push(N)})),e.length>0},n.hasFGMultipleInfo=function(){var e=[];return this.GetAllFGMultipleInfo.forEach((function(t){var N=t.pos.some((function(e){return e.length>0}));N&&e.push(N)})),e.length>0},n.getRemoveUpdateReelData=function(){if(null!=this._NG_curRoutine.removeSymbolData[this.handleRemoveIndex]){var e=this._NG_curRoutine.removeSymbolData[this.handleRemoveIndex];return this.handleRemoveIndex++,e}return this.handleRemoveIndex=0,null},n.getFGRemoveUpdateReelData=function(){if(null!=this._FG_curRoutine.removeSymbolData[this.fgHandleRemoveIndex]){var e=this._FG_curRoutine.removeSymbolData[this.fgHandleRemoveIndex];return this.fgHandleRemoveIndex++,e}return this.fgHandleRemoveIndex=0,null},n.getFGSymbolScore=function(){return this._NG_curRoutine.fgInfo.score},n.isNextRemove=function(){return null!=this._NG_curRoutine.removeSymbolData[this.handleRemoveIndex]},n.isNextFGRemove=function(){return null!=this._FG_curRoutine.removeSymbolData[this.fgHandleRemoveIndex]},n.isFGRoundComplete=function(){return this.isFGRoundEnd},n.getSpinUpdateReelData=function(){var e=this;return new Promise((function(t,N){setTimeout((function(){var o=e.GetSpinReelData;e._NG_curRoutine=e._NG_routineScript[e.mainIndex],e.mainIndex++,e.handleRemoveIndex=0,e.mainIndex,e._NG_routineScript.length,t(o.updateReelData),null==o&&N((function(e){console.error(e)}))}),0)}))},n.resetNG=function(){this.mainIndex==this._NG_routineScript.length&&(this.mainIndex=0,this.handleRemoveIndex=0)},n.getFGSpinUpdateReelData=function(){var e=this;return new Promise((function(t,N){setTimeout((function(){var o=e.GetFGSpinReelData;e._FG_curRoutine=e._FG_routineScript[e.fgMainIndex],e.fgMainIndex++,e.fgHandleRemoveIndex=0,e.fgMainIndex==e._FG_routineScript.length&&(e.isFGRoundEnd=!0),t(o.updateReelData),null==o&&N((function(e){console.error(e)}))}),0)}))},n.resetFG=function(){this.fgMainIndex==this._FG_routineScript.length&&(this.isFGRoundEnd=!1,this.fgMainIndex=0,this.fgHandleRemoveIndex=0)},N(o,[{key:"GetSpinReelData",get:function(){return this._NG_routineScript[this.mainIndex].spinReelData}},{key:"GetFGSpinReelData",get:function(){return this._FG_routineScript[this.fgMainIndex].spinReelData}},{key:"hasMultipInfoBeforeRemove",get:function(){return this._NG_routineScript[this.mainIndex].spinReelData.multipleInfo.pos.some((function(e){return e.length>0}))}},{key:"hasMultipInfoBeforeFGRemove",get:function(){return this._FG_routineScript[this.fgMainIndex].spinReelData.multipleInfo.pos.some((function(e){return e.length>0}))}},{key:"GetFGTotalRound",get:function(){return this._FG_routineScript.length}},{key:"GetRestOfFGRound",get:function(){return this._FG_routineScript.length-this.fgMainIndex-1}},{key:"GetAllMultipleInfo",get:function(){var e=[];return null!=this._NG_curRoutine.spinReelData.multipleInfo&&e.push(this._NG_curRoutine.spinReelData.multipleInfo),this._NG_curRoutine.removeSymbolData.forEach((function(t){e.push(t.multipleInfo)})),e}},{key:"GetAllFGMultipleInfo",get:function(){var e=[];return null!=this._FG_curRoutine.spinReelData.multipleInfo&&e.push(this._FG_curRoutine.spinReelData.multipleInfo),this._FG_curRoutine.removeSymbolData.forEach((function(t){e.push(t.multipleInfo)})),e}},{key:"GetAllMultipleSymbolInfo",get:function(){var e=[];return this.GetAllMultipleInfo.forEach((function(t){var N,o,n;t.pos.forEach((function(e,t){e.length>0&&(N=t+1,o=e[0])})),t.text.forEach((function(e,t){e.length>0&&(n=e[0])}));var a={reelBarOrdinal:N,symbolOrdinal:o,multiplText:n};e.push(a)})),e}},{key:"GetBaseReelData",get:function(){return this._baseReelData}},{key:"SetAutoMode",set:function(e){this._isAutoMode=e}},{key:"GetAutoMode",get:function(){return this._isAutoMode}}]),o}(n)).NAME="SlotProxy",o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Definition.ts","./GameState.ts","./index.ts","./FSMProxy.ts","./SlotProxy.ts","./SimpleCommand.ts"],(function(t){var n,e,o,i,r,c,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.SignalAction},function(t){i=t.GameState},null,function(t){r=t.FSMProxy},function(t){c=t.SlotProxy},function(t){s=t.SimpleCommand}],execute:function(){e._RF.push({},"7c8e5rAYDtMtLBHAlGIdhod","SpinCommand",void 0);t("SpinCommand",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.execute=function(t){this.facade.retrieveProxy(c.NAME);console.log("! execute SpinCommand");var n=this.facade.retrieveProxy(r.NAME);n.fsm.go(i.Wait,n.fsmEvent(null,o.NG.Test))},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/StartCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotProxy.ts","./GameMediator.ts","./index.ts","./FSMProxy.ts","./LoadMediator.ts","./BackgroundMediator.ts","./EffectMediator.ts","./MultipleProxy.ts","./EliminateScoreMediator.ts","./MainInformationMediator.ts","./ScoreProxy.ts","./BetProxy.ts","./TransitionMediator.ts","./ButtonMediator.ts","./SimpleCommand.ts"],(function(t){var e,o,n,i,r,a,s,c,d,f,u,M,m,l,g,p;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.SlotProxy},function(t){i=t.GameMediator},null,function(t){r=t.FSMProxy},function(t){a=t.LoadMediator},function(t){s=t.BackgroundMediator},function(t){c=t.EffectMediator},function(t){d=t.MultipleProxy},function(t){f=t.EliminateScoreMediator},function(t){u=t.MainInformationMediator},function(t){M=t.ScoreProxy},function(t){m=t.BetProxy},function(t){l=t.TransitionMediator},function(t){g=t.ButtonMediator},function(t){p=t.SimpleCommand}],execute:function(){o._RF.push({},"53185fqWW1PMpl0XHlTsohi","StartCommand",void 0);t("StartCommand",function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.execute=function(t){this.facade.registerProxy(new n),this.facade.registerProxy(new d),this.facade.registerProxy(new M),this.facade.registerProxy(new m);var e=t.body;this.facade.registerProxy(new r(e)),this.facade.registerMediator(new a(e.loadScene)),this.facade.registerMediator(new i(e.gameScene)),this.facade.registerMediator(new s(e.backgroundComponent)),this.facade.registerMediator(new c(e.effectComponent)),this.facade.registerMediator(new f(e.eliminateScoreComponent)),this.facade.registerMediator(new u(e.mainInformationComponent)),this.facade.registerMediator(new l(e.transitionComponent)),this.facade.registerMediator(new g(e.buttonComponent))},o}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/StateBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameState.ts","./SignalSchedule.ts"],(function(t){var e,n,o,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){o=t.GameState},function(t){a=t.SignalSchedule}],execute:function(){n._RF.push({},"4570diQgI5F+J+r+dj/I9PI","StateBase",void 0);t("StateBase",function(){function t(){this._lastState=null,this._event=null}var n=t.prototype;return n.onEnter=function(t,e){return console.error(this.constructor.name+" onEnter from "+t),!1},n.on=function(t,e){console.log("[FSM] Enter ",o[e.fsm.currentState]),this._lastState=t,this._event=e,e.facade.sendNotification("UPDATE_BUTTON_STATE",e.fsm.currentState),null!=e.command&&e.facade.sendNotification(e.command),null!=e.signal&&a.Instance.SetSchedule(e.signal).Show()},n.onExit=function(t,e){return console.log("default fsm onExit"),!0},n.call=function(){console.log("default fsm call")},n.resetModel=function(){console.log("default reset model")},e(t,[{key:"lastState",get:function(){return this._lastState}},{key:"event",get:function(){return this._event}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,l,a,s,r,c,m,u,y,h,d,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.createClass},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,c=t.Sprite,m=t.dragonBones,u=t.UITransform,y=t.Size,h=t.tween,d=t.Vec3,b=t.Component}],execute:function(){var p,f,g,v,S,I,D,w,P,A,N,z,x,C,E,L,R;a._RF.push({},"904d1zg9wxADr2paL9fdF7u","Symbol",void 0);var k=s.ccclass,_=s.property;t("Symbol",(p=k("Symbol"),f=_(r),g=_(c),v=_(m.ArmatureDisplay),S=_(m.ArmatureDisplay),I=_(r),D=_(m.ArmatureDisplay),w=_(r),p((N=e((A=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(e,"staticSymbol",N,o(e)),n(e,"static",z,o(e)),n(e,"dynamic",x,o(e)),n(e,"frame",C,o(e)),n(e,"multiple",E,o(e)),n(e,"eliminate",L,o(e)),n(e,"symbolID",R,o(e)),e.symbolId=0,e.moveDistance=0,e.onNextRolling=null,e.allSymbolPostion=[],e.bottomLimitPos=null,e.tweenIns=null,e.reelData=[],e.reelResult=[],e.resultIndex=-1,e._symbolName="",e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.reset()},a.start=function(){},a.reset=function(){this.staticSymbol.node.active=!1,this.symbolID.node.active=!1,this.static.node.active=!0,this.dynamic.node.active=!1,this.frame.node.active=!1,this.multiple.node.active=!1,this.eliminate.node.active=!1},a.init=function(t){this.reset(),this.node.getComponent(u).setContentSize(new y(t.symbolWidth,t.symbolHeight)),this.symbolId=t.symbolId,this.moveDistance=t.rollingDistance,this.onNextRolling=t.rollingCallback,this.allSymbolPostion=t.symbolPosition,this.bottomLimitPos=this.allSymbolPostion[this.allSymbolPostion.length-1],this.reelData=t.reelData,this.node.getChildByName("Frame").active=!1,this.symbolID.string=this.getSymbolId.toString()},a.updateMultiple=function(t){this.multiple.node.active=!0,this.multiple.string=t},a.showFrame=function(t,e){this.frame.node.active=!0,this.frame.once(m.EventObject.COMPLETE,t,e),this.frame.playAnimation("play",1)},a.hideFrame=function(){this.frame.node.active=!1},a.showDynamic=function(t,e,i){this.static.node.active=!1,this.dynamic.node.active=!0,this.dynamic.dragonAsset=i.dragonAsset,this.dynamic.dragonAtlasAsset=i.dragonAtlasAsset,this.dynamic.armatureName=i.armatureName,this.dynamic.node.scale=i.scale,this.dynamic.once(m.EventObject.COMPLETE,t,e),this.dynamic.playAnimation(i.animationName,1)},a.hideDynamic=function(){this.static.node.active=!0,this.dynamic.node.active=!1},a.showEliminate=function(t,e){this.eliminate.node.active=!0,this.eliminate.once(m.EventObject.COMPLETE,t,e),this.eliminate.playAnimation("play",1)},a.hideEliminate=function(){this.eliminate.node.active=!1},a.rolling=function(t,e,i){var n=this;this.resultIndex=i,this.tweenIns=h(this.node).by(t,{position:new d(0,-this.moveDistance,0)}).call((function(){null!=n.resultIndex&&n.resultIndex>=0?n.updatePosition(n.resultIndex,!0):n.updatePosition(e)})).start()},a.bounce=function(){h(this.node).by(.1,{position:new d(0,-15,0)}).by(.2,{position:new d(0,20,0)}).by(.1,{position:new d(0,-5,0)}).start()},a.updatePosition=function(t,e){void 0===e&&(e=!1),this.symbolId++,this.node.position.y<=this.bottomLimitPos.y&&(this.node.setPosition(this.allSymbolPostion[0]),this.symbolId=0,this.node.getChildByName("StaticSymbol").getComponent(r).string=e?this.reelResult[t]:this.reelData[t],this.onNextRolling())},a.setResultData=function(t){this.reelResult=t},a.update=function(t){},l(e,[{key:"getSymbolId",get:function(){return this.symbolId}},{key:"setSymbolId",set:function(t){this.symbolId=t,this.symbolID.string=t.toString()}},{key:"GetSymbolName",get:function(){return this._symbolName}},{key:"SetSymbolName",set:function(t){this._symbolName=t}},{key:"GetMultipleText",get:function(){return this.multiple.string}}]),e}(b)).prototype,"staticSymbol",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(A.prototype,"static",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(A.prototype,"dynamic",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(A.prototype,"frame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"multiple",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"eliminate",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"symbolID",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=A))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/TestPosition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,s,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.Vec3,u=t.UITransform,l=t.Component}],execute:function(){var p,f,h,d,v;r._RF.push({},"d61a9ahuG9DfZ/UwIJ9MvrI","TestPosition",void 0);var g=s.ccclass,y=s.property,m=(t("TestPosition",(p=g("TestPosition"),f=y(a),p((v=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"innerNode",v,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){var t=this.innerNode.worldPosition,e=new c;this.node.parent.getComponent(u).convertToNodeSpaceAR(t,e),console.log("!!! TestPositionIn 在Canvas的位置:",e);var n=new m("Dog");this.testOut("change",n),console.log("! testOut:",n)},r.testOut=function(t,e){switch(t){case"change":e._name="Cat"}return e},r.update=function(t){},e}(l)).prototype,"innerNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h)),function(t){this._name="",this._name=t});r._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SignalManager.ts","./Definition.ts","./AudioEngineControl.ts"],(function(n){var t,i,o,e,r,a,s,l,c,h,u,g,f,d,S,p,T;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized,r=n.createClass},function(n){a=n.cclegacy,s=n._decorator,l=n.Node,c=n.dragonBones,h=n.NodeEventType,u=n.Label,g=n.Component},function(n){f=n.AddSignal,d=n.SignalManager},function(n){S=n.SignalType,p=n.SoundList},function(n){T=n.AudioEngineControl}],execute:function(){var C,w,F,m,y,v,G,b,B;a._RF.push({},"9d4f4HeRLlIo6nixN16/QF7","TransitionComponent",void 0);var E=s.ccclass,W=s.property;n("TransitionComponent",(C=E("TransitionComponent"),w=W(l),F=W(l),m=W(c.ArmatureDisplay),C((G=t((v=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"fgTrigger",G,e(t)),o(t,"fgShowWin",b,e(t)),o(t,"transition",B,e(t)),t._fgTotalRound=void 0,t._scoreToShow=0,t}i(t,n);var a=t.prototype;return a.onLoad=function(){this.fgTrigger.on(h.TOUCH_START,this.onShowFGTransition,this),f(S.ShowEnterFG,this.onShowEnterFG.bind(this)),f(S.CloseEnterFG,this.onCloseEnterFG.bind(this)),f(S.CloseFGTransition,this.onCloseFGTransition.bind(this)),f(S.ShowFGShowWin,this.onShowFGShowWin.bind(this)),f(S.CloseFGShowWin,this.onCloseFGShowWin.bind(this))},a.start=function(){this.node.active=!1},a.onShowEnterFG=function(n){this.node.active=!0,this.fgTrigger.active=!0,this.fgTrigger.getChildByName("text").getChildByName("round").getComponent(u).string=this._fgTotalRound.toString(),n.CallBack()},a.onShowFGTransition=function(){T.getInstance().playAudio(p.FreeGameTransform,1),this.transition.node.active=!0,this.transition.once(c.EventObject.COMPLETE,this.onShowFGTransitionComplete,this),this.transition.playAnimation("play",1)},a.onShowFGTransitionComplete=function(){d.CallBack(S[S.ShowFGTransition])},a.onCloseEnterFG=function(n){this.node.active=!1,this.fgTrigger.active=!1,n.CallBack()},a.onCloseFGTransition=function(n){this.transition.node.active=!1,n.CallBack()},a.onShowFGShowWin=function(n){var t=this;setTimeout((function(){t.node.active=!0,t.fgShowWin.active=!0,t.fgShowWin.getChildByName("text").getChildByName("winScore").getComponent(u).string=t._scoreToShow.toFixed(2),setTimeout((function(){n.CallBack()}),3e3)}),1e3)},a.onCloseFGShowWin=function(n){this.node.active=!1,this.fgShowWin.active=!1,n.CallBack()},a.update=function(n){},r(t,[{key:"SetFGTotalRound",set:function(n){this._fgTotalRound=n}},{key:"SetScoreToShow",set:function(n){this._scoreToShow=n}}]),t}(g)).prototype,"fgTrigger",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"fgShowWin",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(v.prototype,"transition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionMediator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Mediator.ts"],(function(n){var t,o,i;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},null,function(n){i=n.Mediator}],execute:function(){o._RF.push({},"d0c3aYDnjNObqRvyBhGYIDH","TransitionMediator",void 0),n("TransitionMediator",function(n){function o(t){var i;return(i=n.call(this,o.NAME,t)||this).transitionComponent=null,i.transitionComponent=t,i}t(o,n);var i=o.prototype;return i.onRegister=function(){},i.listNotificationInterests=function(){return["SET_FG_TOTAL_ROUND","SET_SCORE_VALUE_TransitionComponent"]},i.handleNotification=function(n){switch(n.name){case"SET_FG_TOTAL_ROUND":this.transitionComponent.SetFGTotalRound=n.body;break;case"SET_SCORE_VALUE_TransitionComponent":this.transitionComponent.SetScoreToShow=n.body}},o}(i)).NAME="TransitionMediator",o._RF.pop()}}}));

System.register("chunks:///_virtual/View.ts",["cc","./Observer.ts"],(function(e){var t,i;return{setters:[function(e){t=e.cclegacy},function(e){i=e.Observer}],execute:function(){t._RF.push({},"987d2HOLnRJEoLT4i4GRLdK","View",void 0);var r=e("View",function(){function e(){if(this.mediatorMap=void 0,this.observerMap=void 0,null!=e.instance)throw Error(e.SINGLETON_MSG);e.instance=this,this.mediatorMap={},this.observerMap={},this.initializeView()}var t=e.prototype;return t.initializeView=function(){},e.getInstance=function(t){return null==e.instance&&(e.instance=t()),e.instance},t.registerObserver=function(e,t){null!=this.observerMap[e]?this.observerMap[e].push(t):this.observerMap[e]=[t]},t.notifyObservers=function(e){if(null!=this.observerMap[e.name])for(var t=this.observerMap[e.name].slice(),i=0;i<t.length;i++)t[i].notifyObserver(e)},t.removeObserver=function(e,t){for(var i=this.observerMap[e],r=0;r<i.length;r++)if(i[r].compareNotifyContext(t)){i.splice(r,1);break}0==i.length&&delete this.observerMap[e]},t.registerMediator=function(e){if(null==this.mediatorMap[e.name]){this.mediatorMap[e.name]=e;var t=e.listNotificationInterests();if(t.length>0)for(var r=new i(e.handleNotification,e),n=0;n<t.length;n++)this.registerObserver(t[n],r);e.onRegister()}},t.retrieveMediator=function(e){return this.mediatorMap[e]||null},t.hasMediator=function(e){return null!=this.mediatorMap[e]},t.removeMediator=function(e){var t=this.mediatorMap[e];if(null==t)return null;for(var i=t.listNotificationInterests(),r=0;r<i.length;r++)this.removeObserver(i[r],t);return delete this.mediatorMap[e],t.onRemove(),t},e}());r.SINGLETON_MSG="View Singleton already constructed!",r.instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/WaitState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FSMProxy.ts","./SlotProxy.ts","./StateBase.ts","./GameState.ts","./GameFacade.ts","./Definition.ts"],(function(t){var e,n,o,i,a,r,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.FSMProxy},function(t){i=t.SlotProxy},function(t){a=t.StateBase},function(t){r=t.GameState},function(t){c=t.GameFacade},function(t){s=t.SignalAction}],execute:function(){n._RF.push({},"a2c9fjSTTFNdpXVN0HYGOzb","WaitState",void 0);t("WaitState",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.onEnter=function(t,e){return console.log("WaitState onEnter"),!0},a.on=function(e,n){t.prototype.on.call(this,e,n),console.log("WaitState on");var a=n.facade.retrieveProxy(i.NAME),u=this.event.facade.retrieveProxy(o.NAME);a.resetNG(),a.resetFG(),a.GetAutoMode&&setTimeout((function(){n.fsm.go(r.NGSpin,u.fsmEvent(c.NGSPIN,s.NG.SpinStart))}),500)},a.call=function(){console.log("動畫結束")},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/WaitStateCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./ScoreProxy.ts","./SimpleCommand.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},null,function(t){i=t.ScoreProxy},function(t){o=t.SimpleCommand}],execute:function(){n._RF.push({},"1942cjkcupFg6EkRdMMiA5b","WaitStateCommand",void 0);t("WaitStateCommand",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.execute=function(t){this.facade.retrieveProxy(i.NAME).reset(),this.facade.sendNotification("RESET")},n}(o));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});